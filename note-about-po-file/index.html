<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Note about PO file in PostgreSQL - 老杨的杂货铺</title><meta name=Description content="杂七杂八的，随手记录。"><meta property="og:url" content="https://yangyingchao.github.io/note-about-po-file/">
<meta property="og:site_name" content="老杨的杂货铺"><meta property="og:title" content="Note about PO file in PostgreSQL"><meta property="og:description" content="Table of Contents 1 Concepts 本文为摘录，原文为： https://github.com/postgres/postgres/blob/master/doc/src/sgml/nls.sgml#L52
1 Concepts The pairs of original (English) messages and their (possibly) translated equivalents are kept in message catalogs , one for each program (although related programs can share a message catalog) and for each target language. There are two file formats for message catalogs: The first is the PO file (for Portable Object), which is a plain text file with special syntax that translators edit. The second is the MO file (for Machine Object), which is a binary file generated from the respective PO file and is used while the internationalized program is run. Translators do not deal with MO files; in fact hardly anyone does."><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-18T00:00:00+00:00"><meta property="article:modified_time" content="2023-12-18T00:00:00+00:00"><meta property="article:tag" content="Nls"><meta property="article:tag" content="Po"><meta property="og:image" content="https://yangyingchao.github.io/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yangyingchao.github.io/logo.png"><meta name=twitter:title content="Note about PO file in PostgreSQL"><meta name=twitter:description content="Table of Contents 1 Concepts 本文为摘录，原文为： https://github.com/postgres/postgres/blob/master/doc/src/sgml/nls.sgml#L52
1 Concepts The pairs of original (English) messages and their (possibly) translated equivalents are kept in message catalogs , one for each program (although related programs can share a message catalog) and for each target language. There are two file formats for message catalogs: The first is the PO file (for Portable Object), which is a plain text file with special syntax that translators edit. The second is the MO file (for Machine Object), which is a binary file generated from the respective PO file and is used while the internationalized program is run. Translators do not deal with MO files; in fact hardly anyone does."><meta name=application-name content="LoveIt"><meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://yangyingchao.github.io/note-about-po-file/><link rel=prev href=https://yangyingchao.github.io/how-to-avoid-memory-being-swapped/><link rel=next href=https://yangyingchao.github.io/compiler-considerations/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Note about PO file in PostgreSQL","inLanguage":"zh-cn","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/yangyingchao.github.io\/note-about-po-file\/"},"image":["https:\/\/yangyingchao.github.io\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"nls, po","wordcount":1272,"url":"https:\/\/yangyingchao.github.io\/note-about-po-file\/","datePublished":"2023-12-18T00:00:00+00:00","dateModified":"2023-12-18T00:00:00+00:00","publisher":{"@type":"Organization","name":"xxxx","logo":"https:\/\/yangyingchao.github.io\/images\/avatar.png"},"author":{"@type":"Person","name":"yc"},"description":""}</script></head><body data-header-desktop=normal data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=老杨的杂货铺><span class=header-title-pre><i class="fa-solid fa-house-chimney"></i></span>老杨的杂货铺</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>所有文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=https://github.com/yangyingchao/MyNotes title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=老杨的杂货铺><span class=header-title-pre><i class="fa-solid fa-house-chimney"></i></span>老杨的杂货铺</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/posts/ title>所有文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=https://github.com/yangyingchao/MyNotes title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Note about PO file in PostgreSQL</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2023-12-18>2023-12-18</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 1272 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 3 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#h:7cc071ca-9356-4d53-94ff-f0819cc97b5e><span class=section-num>1</span> Concepts</a></li></ul></nav></div></div><div class=content id=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:7cc071ca-9356-4d53-94ff-f0819cc97b5e rel>Concepts</a></li></ul></div><p>本文为摘录，原文为： <a href=https://github.com/postgres/postgres/blob/master/doc/src/sgml/nls.sgml#L52 target=_blank rel="noopener noreffer">https://github.com/postgres/postgres/blob/master/doc/src/sgml/nls.sgml#L52</a></p><h2 id=h:7cc071ca-9356-4d53-94ff-f0819cc97b5e><span class=section-num>1</span> Concepts</h2><p>The pairs of original (English) messages and their (possibly) translated equivalents are
kept in <code>message catalogs</code> , one for each program (although related programs can share a
message catalog) and for each target language. There are two file formats for message
catalogs: The first is the <code>PO</code> file (for Portable Object), which is a plain text file
with special syntax that translators edit. The second is the <code>MO</code> file
(for Machine Object), which is a binary file generated from the respective PO file and
is used while the internationalized program is run. Translators do not deal with MO
files; in fact hardly anyone does.</p><p>原始（英语）消息与它们的（可能的）翻译对应关系保存在 <code>消息目录</code> 中，
每个程序都有一个（尽管相关的程序可以共享一个消息目录），对于每种目标语言也是如此。消息目
录有两种文件格式：</p><ul><li><p>第一种是 <code>PO</code> 文件（Portable Object）</p><ul><li>这是一个特殊语法的纯文本文件，</li><li>由翻译人员编辑</li></ul></li><li><p>第二种是 <code>MO</code> 文件（Machine Object）</p><ul><li>它是从相应的 PO 文件生成的二进制文件</li><li>在国际化程序运行时使用。</li></ul></li></ul><p>翻译人员不需要处理 MO 文件；事实上，几乎没有人会处理。</p><p>The extension of the message catalog file is to no surprise either <code>.po</code> or <code>.mo</code>. The
base name is either the name of the program it accompanies, or the language the file is
for, depending on the situation. This is a bit confusing. Examples are <code>psql.po</code> (PO
file for psql) or <code>fr.mo</code> (MO file in French).</p><p>消息目录文件的扩展名也不足为奇，要么是 <code>.po</code> 要么是 <code>.mo</code> 。基本名称则根据情况是程序的名
称或者文件所对应的语言。这有点让人困惑。例如， <code>psql.po</code> （psql 的 PO 文件）或 <code>fr.mo</code>
（法语的 MO 文件）。</p><p>The file format of the PO files is illustrated here:</p><p>PO 文件的文件格式如下所示：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># comment
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>msgid &#34;original string&#34;
</span></span><span class=line><span class=cl>msgstr &#34;translated string&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>msgid &#34;more original&#34;
</span></span><span class=line><span class=cl>msgstr &#34;another translated&#34;
</span></span><span class=line><span class=cl>&#34;string can be broken up like this&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>...
</span></span></code></pre></td></tr></table></div></div><p>The msgid lines are extracted from the program source. (They need not be, but this is
the most common way.) The msgstr lines are initially empty and are filled in with
useful strings by the translator. The strings can contain C-style escape characters and
can be continued across lines as illustrated. (The next line must start at the
beginning of the line.)</p><ul><li><strong>msgid</strong> 行是从程序源代码中提取的。（虽然不一定非得这样做，但这是最常见的方式。）</li><li>msgid 行之后的 <strong>msgstr</strong> 行最初是空的，会由翻译人员填入有用的字符串。<br>这些字符串可以包含 C 风格的转义字符，并且可以跨行续写，就像这样。（下一行必须从行的开头开始。）</li></ul><p>The <code>#</code> character introduces a comment. If whitespace immediately follows the #
character, then this is a comment maintained by the translator. There can also be
automatic comments, which have a non-whitespace character immediately following the #.
These are maintained by the various tools that operate on the PO files and are intended
to aid the translator.</p><ul><li><code>#</code> 字符引入一个注释。</li><li>如果 <code>#</code> 字符后面紧跟着 <strong>空格</strong> ，则这是译者维护的注释。</li><li>如果 <code>#</code> 字符后面紧跟着 <strong>非空格</strong> ， 则为自动注释，他们由操作 PO 文件的各种工具维护，并旨在帮助翻译者。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>#. automatic comment
</span></span><span class=line><span class=cl>#: filename.c:1023
</span></span><span class=line><span class=cl>#, flags, flags
</span></span></code></pre></td></tr></table></div></div><p>The <code>#.</code> style comments are extracted from the source file where the message is used.
Possibly the programmer has inserted information for the translator, such as about
expected alignment. The #: comments indicate the exact locations where the message is
used in the source. The translator need not look at the program source, but can if
there is doubt about the correct translation. The #, comments contain flags that
describe the message in some way. There are currently two flags: <code>fuzzy</code> is set if the
message has possibly been outdated because of changes in the program source. The
translator can then verify this and possibly remove the fuzzy flag. Note that fuzzy
messages are not made available to the end user. The other flag is <code>c-format</code>, which
indicates that the message is a &lt;function>printf&lt;/function>-style format template. This
means that the translation should also be a format string with the same number and type
of placeholders. There are tools that can verify this, which key off the c-format flag.</p><ul><li><code>#.</code> ： 的内容是从使用消息的源文件中提取的。 可能程序员已经为翻译者插入了关于期望对齐方式等信息。</li><li><code>#</code> : 指出了消息在源文件中的确切位置。翻译者无需查看程序源文件，但如果对正确翻译存在疑问，可以查看源文件。</li><li><code>#，</code> ： 注释包含描述消息的标志。目前有两个标志：<ul><li><code>fuzzy</code> ：<ul><li>如果消息可能因程序源文件的更改而过时，则会设置 <code>fuzzy</code> 标志。</li><li>翻译者可以验证这一点，并可能移除 fuzzy 标志。请注意，模糊消息不向最终用户提供。</li></ul></li><li><code>c-format</code> :<ul><li>表示消息是 <code>printf</code> 格式的模板。</li><li>这意味着翻译也应该是具有相同数量和类型占位符的格式字符串。</li><li>有一些工具可以验证这一点，这些工具会基于 c-format 标志进行匹配。</li></ul></li></ul></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2023-12-18</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/note-about-po-file/index.md target=_blank>阅读原始文档</a></span></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/nls/>Nls</a>,&nbsp;<a href=/tags/po/>Po</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/how-to-avoid-memory-being-swapped/ class=prev rel=prev title="how to avoid memory being swapped (locking memory pages)"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>how to avoid memory being swapped (locking memory pages)</a>
<a href=/compiler-considerations/ class=next rel=next title="Compiler considerations — The Linux Kernel 5.7.0+ documentation">Compiler considerations — The Linux Kernel 5.7.0+ documentation<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50},comment:{},search:{algoliaAppID:"PASDMWALPK",algoliaIndex:"index.zh-cn",algoliaSearchKey:"b42948e51daaa93df92381c8e2ac0f93",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:30,type:"algolia"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>