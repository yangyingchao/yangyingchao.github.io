<!doctype html><html lang=zh-cn><head><meta name=generator content="Hugo 0.145.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>杂货铺</title><meta name=Description content="杂七杂八的，随手记录。"><meta property="og:url" content="https://yangyingchao.github.io/">
<meta property="og:site_name" content="杂货铺"><meta property="og:title" content="杂货铺"><meta property="og:description" content="杂七杂八的，随手记录。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="website"><meta property="og:image" content="https://yangyingchao.github.io/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yangyingchao.github.io/logo.png"><meta name=twitter:title content="杂货铺"><meta name=twitter:description content="杂七杂八的，随手记录。"><meta name=application-name content="LoveIt"><meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://yangyingchao.github.io/><link rel=alternate href=/index.xml type=application/rss+xml title=杂货铺><link rel=feed href=/index.xml type=application/rss+xml title=杂货铺><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/yangyingchao.github.io\/","inLanguage":"zh-cn","author":{"@type":"Person","name":"yc"},"description":"杂七杂八的，随手记录。","image":"https:\/\/yangyingchao.github.io\/images\/Apple-Devices-Preview.png","thumbnailUrl":"https:\/\/yangyingchao.github.io\/images\/screenshot.png","name":"杂货铺"}</script></head><body data-header-desktop=normal data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=杂货铺><span class=header-title-pre><i class="fa-solid fa-house-chimney"></i></span>老杨的杂货铺</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>所有文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=https://github.com/yangyingchao/MyNotes title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=杂货铺><span class=header-title-pre><i class="fa-solid fa-house-chimney"></i></span>老杨的杂货铺</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/posts/ title>所有文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=https://github.com/yangyingchao/MyNotes title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="page home" data-home=posts><div class=home-profile><div class=home-avatar><a href=/posts/ title=所有文章><img class=lazyload src=/svg/loading.min.svg data-src=/images/avatar.jpg data-srcset="/images/avatar.jpg, /images/avatar.jpg 1.5x, /images/avatar.jpg 2x" data-sizes=auto alt=/images/avatar.jpg title=/images/avatar.jpg width=160 height=160></a></div><div class=home-subtitle>杂七杂八的，随手记录。</div><div class=links><a href=https://github.com/yangyingchao title=GitHub target=_blank rel="noopener noreffer me"><i class="fab fa-github fa-fw" aria-hidden=true></i></a><a href=https://www.douban.com/people/161045917 title=豆瓣 target=_blank rel="noopener noreffer me"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/douban.svg aria-hidden=true></i></a><a href=mailto:yang.yingchao@qq.com title=Email rel=me><i class="far fa-envelope fa-fw" aria-hidden=true></i></a><a href=/index.xml title=RSS target=_blank rel="noopener noreffer me"><i class="fas fa-rss fa-fw" aria-hidden=true></i></a></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/mp.weixin.qq.com_s_dd-aphnynoqsc3muyljeaa/>十年前的微信消息收发架构长啥样</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2024-03-29>2024-03-29</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#%e8%83%8c%e6%99%af rel>背景</a></li><li><span class=section-num>2</span> <a href=#%e6%b6%88%e6%81%af%e6%94%b6%e5%8f%91%e6%9e%b6%e6%9e%84 rel>消息收发架构</a><ul><li><span class=section-num>2.1</span> <a href=#%e6%b6%88%e6%81%af%e5%8f%91%e9%80%81%e6%9e%b6%e6%9e%84 rel>消息发送架构</a></li><li><span class=section-num>2.2</span> <a href=#%e6%b6%88%e6%81%af%e6%8e%a5%e6%94%b6%e6%9e%b6%e6%9e%84 rel>消息接收架构</a></li><li><span class=section-num>2.3</span> <a href=#%e5%b0%8f%e7%bb%93 rel>小结</a></li></ul></li><li><span class=section-num>3</span> <a href=#%e6%b6%88%e6%81%af%e9%98%b2%e4%b8%a2%e5%a4%b1%e6%9c%ba%e5%88%b6 rel>消息防丢失机制</a><ul><li><span class=section-num>3.1</span> <a href=#sequence-%e6%9c%ba%e5%88%b6 rel>sequence 机制</a></li><li><span class=section-num>3.2</span> <a href=#%e6%b6%88%e6%81%af%e6%94%b6%e5%8f%96-sequnece-%e7%a1%ae%e8%ae%a4%e6%9c%ba%e5%88%b6 rel>消息收取 sequnece 确认机制</a></li></ul></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： <a href=https://mp.weixin.qq.com/s/dD-aPhnynOqSC3MUYLjeAA target=_blank rel="noopener noreffer">https://mp.weixin.qq.com/s/dD-aPhnynOqSC3MUYLjeAA</a></p><p>2023 年，微信及 WeChat 的 DAU（月活用户）达到 13.4 亿，微信已经是很多人工作、生活中不可或缺的一个环节。从 2011 年 1 月
21 日上线至今，微信已经走过了 13 个年头，其背后的技术基座与架构也发生了巨大的变化。</p></div><div class=post-footer><a href=/mp.weixin.qq.com_s_dd-aphnynoqsc3muyljeaa/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/wechat/>Wechat</a>,&nbsp;<a href=/tags/weixin/>Weixin</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/superuser.com_77504_how-to-strip-audio-streams-from-an-mkv-file/>video - How to strip audio streams from an MKV file? - Super User</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2024-03-27>2024-03-27</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#q rel>Q</a></li><li><span class=section-num>2</span> <a href=#a rel>A:</a></li><li><span class=section-num>3</span> <a href=#further-more rel>Further more</a></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： <a href=https://superuser.com/questions/77504/how-to-strip-audio-streams-from-an-mkv-file target=_blank rel="noopener noreffer">https://superuser.com/questions/77504/how-to-strip-audio-streams-from-an-mkv-file</a></p><h2 id=q><span class=section-num>1</span> Q</h2><p>我一直在尝试从一个 MKV（Matroska）文件中删除不需要的音频流。我这样做的原因是为了避免在 Windows Media Player 中手动选择所需的流。</p></div><div class=post-footer><a href=/superuser.com_77504_how-to-strip-audio-streams-from-an-mkv-file/>阅读全文</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/postgr.es_p_6s9/>cary huang: PostgreSQL’s Planner – Simple Scan Paths vs Plans</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2024-03-25>2024-03-25</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#introduction rel>Introduction</a></li><li><span class=section-num>2</span> <a href=#where-it-all-start rel>Where it all start</a></li><li><span class=section-num>3</span> <a href=#what-happens-behind-pg-plan-query rel>What happens behind <code>pg_plan_query</code></a></li><li><span class=section-num>4</span> <a href=#set-base-rel-sizes rel>set_base_rel_sizes()</a></li><li><span class=section-num>5</span> <a href=#set-base-rel-pathlist rel>set_base_rel_pathlist()</a></li><li><span class=section-num>6</span> <a href=#generate-gather-paths rel>generate_gather_paths</a></li><li><span class=section-num>7</span> <a href=#get-cheapest-fractional-path-and-create-plan rel>get_cheapest_fractional_path and create_plan</a></li><li><span class=section-num>8</span> <a href=#examine-the-plan rel>Examine the Plan</a></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： <a href=https://postgr.es/p/6s9 target=_blank rel="noopener noreffer">https://postgr.es/p/6s9</a></p><h2 id=introduction><span class=section-num>1</span> Introduction</h2><p>当你向 PostgreSQL 发送查询时，通常会经历查询处理的各个阶段，并在最后返回结果。这些阶段被称为：</p></div><div class=post-footer><a href=/postgr.es_p_6s9/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/pg/>Pg</a>,&nbsp;<a href=/tags/planner/>Planner</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/postgr.es_p_6oe/>100x Faster Query in Aurora Postgres with a lower random_page_cost</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2024-02-26>2024-02-26</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:cb668550-2490-4cf4-829b-f5a60b54d00e rel>What is Random Page Cost?</a></li><li><span class=section-num>2</span> <a href=#h:5d83a798-845a-44a1-bd42-21c0f9df4678 rel>Diving Deeper</a></li><li><span class=section-num>3</span> <a href=#h:e146b6ad-c339-44e4-9526-5b7eac05fdbd rel>Seeing is Believing: Before and After Examples</a><ul><li><span class=section-num>3.1</span> <a href=#h:bedef465-1168-44ae-81a7-15c7753fe209 rel>Before (RPC = 4.0):</a></li><li><span class=section-num>3.2</span> <a href=#h:eb107038-e92d-4378-b00a-9524adc18a99 rel>After (RPC = 1.1):</a></li></ul></li><li><span class=section-num>4</span> <a href=#h:b0b819dc-d3f1-40d1-8063-ae77226960ec rel>can perform it on a per query/connection basis</a></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： <a href=https://postgr.es/p/6oe target=_blank rel="noopener noreffer">https://postgr.es/p/6oe</a></p><p>最近我在 Postgres 中处理一些查询，发现它要么选择不使用索引执行顺序扫描，要么选择使用复合部分索引的替代索引。这让我感到困惑，尤其是知道系统中有可以更快执行这些查询的索引时。</p></div><div class=post-footer><a href=/postgr.es_p_6oe/>阅读全文</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/gentoo-tips/>Gentoo Tips</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2024-02-20>2024-02-20</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:7b8e2b63-d5b8-4c2a-93bf-c865d2a8223d rel>Failed to login as normal user</a></li></ul></div><h2 id=h:7b8e2b63-d5b8-4c2a-93bf-c865d2a8223d><span class=section-num>1</span> Failed to login as normal user</h2><p>passwd 中，用户使用的 shell ， 必需是包含在 <code>/etc/shells</code> 里面的，否则会无法登录，哪怕密码没有问题。</p></div><div class=post-footer><a href=/gentoo-tips/>阅读全文</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/20-product-guide/>HashData|产品介绍</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2024-01-12>2024-01-12</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:2786e008-f119-411c-9a74-c638782209f4 rel>Abort HashData</a></li><li><span class=section-num>2</span> <a href=#h:ca6a6265-aba7-4649-915a-491dcafa2674 rel>设计理念</a></li><li><span class=section-num>3</span> <a href=#h:01e085d2-f9e4-466a-ac81-c3070862ea14 rel>架构介绍</a><ul><li><span class=section-num>3.1</span> <a href=#h:2583d853-abf9-4a9f-84b3-ad291185c046 rel>管理模块</a></li><li><span class=section-num>3.2</span> <a href=#h:f3f697e1-8559-4318-a40f-d86b958503aa rel>用户模块</a></li></ul></li><li><span class=section-num>4</span> <a href=#h:8c2b3d9a-f636-4b5f-8625-279bfd7efea6 rel>产品特性</a><ul><li><span class=section-num>4.1</span> <a href=#h:e8f5a5da-4a1d-41b9-9543-8ca31e03ab5a rel>数据仓库服务</a></li><li><span class=section-num>4.2</span> <a href=#h:4ecba8ce-fd69-4546-bc38-73ac880f78d5 rel>灵活高效的业务支持</a></li><li><span class=section-num>4.3</span> <a href=#h:20f1781a-a1db-4f47-b65b-080e7f6b2383 rel>多维度弹性</a></li><li><span class=section-num>4.4</span> <a href=#h:8f6d0651-d755-482a-af31-b728b469fb87 rel>高可用和低成本</a></li><li><span class=section-num>4.5</span> <a href=#h:f616d73d-1198-4d40-a663-dee767e725d5 rel>接近零停机时间</a></li><li><span class=section-num>4.6</span> <a href=#h:3a45f298-f33b-4f3b-9aca-e30f4cc5d985 rel>优化的硬件配置</a></li><li><span class=section-num>4.7</span> <a href=#h:9a14c0a7-21b5-472b-bf1d-318932ebe3ec rel>兼容开源</a></li><li><span class=section-num>4.8</span> <a href=#h:ff27a80f-1230-4c8c-b929-8e7a6928a7d0 rel>完善的数据库能力</a></li></ul></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： <a href=https://docs.hashdata.xyz/docs/20-product-guide/ target=_blank rel="noopener noreffer">https://docs.hashdata.xyz/docs/20-product-guide/</a></p><h2 id=h:2786e008-f119-411c-9a74-c638782209f4><span class=section-num>1</span> Abort HashData</h2><p>HashData was founded in 2016 by the guys who built Apache HAWQ, one of the most
advanced SQL on Hadoop solutions. As the flagship product of the company, HashData
Warehousing is a data warehouse service built for the cloud. While 100% compatible with
the analytics interfaces of the open source MPP database Greenplum，HashData&rsquo;s unique
architecture delivers proven breakthroughs in performance, concurrency, elasticity and
simplicity.</p></div><div class=post-footer><a href=/20-product-guide/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/hashta/>Hashta</a>,&nbsp;<a href=/tags/pg/>Pg</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/22/>22</a></span></li><li class=page-item><span class=page-link><a href=/page/23/>23</a></span></li><li class="page-item active"><span class=page-link><a href=/page/24/>24</a></span></li><li class=page-item><span class=page-link><a href=/page/25/>25</a></span></li><li class=page-item><span class=page-link><a href=/page/26/>26</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/41/>41</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50},search:{algoliaAppID:null,algoliaIndex:"index.zh-cn",algoliaSearchKey:null,highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:30,type:"algolia"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>