<!doctype html><html lang=zh-CH><head><meta name=generator content="Hugo 0.152.2"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>杂货铺</title><meta name=Description content="杂七杂八的，随手记录。"><meta property="og:url" content="https://yangyingchao.github.io/"><meta property="og:site_name" content="杂货铺"><meta property="og:title" content="杂货铺"><meta property="og:description" content="杂七杂八的，随手记录。"><meta property="og:locale" content="zh_CH"><meta property="og:type" content="website"><meta property="og:image" content="https://yangyingchao.github.io/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yangyingchao.github.io/logo.png"><meta name=twitter:title content="杂货铺"><meta name=twitter:description content="杂七杂八的，随手记录。"><meta name=application-name content="杂货铺"><meta name=apple-mobile-web-app-title content="杂货铺"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://yangyingchao.github.io/><link rel=alternate href=/index.xml type=application/rss+xml title=杂货铺><link rel=feed href=/index.xml type=application/rss+xml title=杂货铺><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/yangyingchao.github.io\/","inLanguage":"zh-CH","author":{"@type":"Person","name":"yc"},"description":"杂七杂八的，随手记录。","image":"https:\/\/yangyingchao.github.io\/images\/Apple-Devices-Preview.png","thumbnailUrl":"https:\/\/yangyingchao.github.io\/images\/screenshot.png","name":"杂货铺"}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=杂货铺><span class=header-title-pre><i class='fa-solid fa-house-chimney'></i></span>老杨的杂货铺</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>所有文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=https://github.com/yangyingchao title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i> </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=杂货铺><span class=header-title-pre><i class='fa-solid fa-house-chimney'></i></span>老杨的杂货铺</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>所有文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=https://github.com/yangyingchao title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i> </a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class="page home" data-home=posts><div class=home-profile><div class=home-avatar><a href=/posts/ title=所有文章><img class=lazyload src=/svg/loading.min.svg data-src=/images/avatar.jpg data-srcset="/images/avatar.jpg, /images/avatar.jpg 1.5x, /images/avatar.jpg 2x" data-sizes=auto alt=/images/avatar.jpg title=/images/avatar.jpg width=160 height=160></a></div><div class=home-subtitle>杂七杂八的，随手记录。</div><div class=links><a href=https://github.com/yangyingchao title=GitHub target=_blank rel="noopener noreffer me"><i class="fab fa-github fa-fw" aria-hidden=true></i></a><a href=mailto:yang.yingchao@qq.com title=Email rel=me><i class="far fa-envelope fa-fw" aria-hidden=true></i></a></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2022/05/gpdb_cdb/>gpdb cdb</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2022-05-01>2022-05-01</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:3a9ecefa-c67a-4512-a5d4-69adb4c9a0d6 rel>Data structures</a><ul><li><span class=section-num>1.1</span> <a href=#h:1223137a-c35a-4cca-8922-447664c4cc0b rel>Slice Table</a></li></ul></li><li><span class=section-num>2</span> <a href=#h:9a8ad5db-0d8c-4bef-bbc8-4a27cd48ef45 rel>PostgresMain</a><ul><li><span class=section-num>2.1</span> <a href=#h:554948eb-a908-49ea-89f4-324ac2f96fe7 rel>Call graph (QE):</a></li><li><span class=section-num>2.2</span> <a href=#h:e1a256d3-301b-4ba1-be57-8749befb730f rel>QD</a></li></ul></li><li><span class=section-num>3</span> <a href=#h:c37bea35-e940-428c-befb-d19fa51a1295 rel>Receiver</a></li><li><span class=section-num>4</span> <a href=#h:d1532cbd-394f-42b8-9331-0704d91794b7 rel>Sender</a></li></ul></div><h2 id=h:3a9ecefa-c67a-4512-a5d4-69adb4c9a0d6><span class=section-num>1</span> Data structures</h2><h3 id=h:1223137a-c35a-4cca-8922-447664c4cc0b><span class=section-num>1.1</span> Slice Table</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>@startuml
</span></span><span class=line><span class=cl>class SliceTable {
</span></span><span class=line><span class=cl>+ NodeTag type
</span></span><span class=line><span class=cl>+ int localSlice
</span></span><span class=line><span class=cl>+ int numSlices
</span></span><span class=line><span class=cl>+ ExecSlice slices
</span></span><span class=line><span class=cl>+ bool hasMotions
</span></span><span class=line><span class=cl>+ int instrument_options
</span></span><span class=line><span class=cl>+ uint32 ic_instance_id
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>note right of SliceTable::localSlice
</span></span><span class=line><span class=cl>Index of the slice to execute
</span></span><span class=line><span class=cl>end note
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>note right of SliceTable::slices
</span></span><span class=line><span class=cl>Array of slices, indexed by SliceIndex
</span></span><span class=line><span class=cl>end note
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>note right of SliceTable::hasMotions
</span></span><span class=line><span class=cl>Are there any Motion nodes anywhere in the plan?
</span></span><span class=line><span class=cl>end note
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>class ExecSlice {
</span></span><span class=line><span class=cl>+ int sliceIndex
</span></span><span class=line><span class=cl>+ int rootIndex
</span></span><span class=line><span class=cl>+ int parentIndex
</span></span><span class=line><span class=cl>+ int planNumSegments
</span></span><span class=line><span class=cl>+ List children
</span></span><span class=line><span class=cl>+ GangType gangType
</span></span><span class=line><span class=cl>+ List segments
</span></span><span class=line><span class=cl>+ struct primaryGang
</span></span><span class=line><span class=cl>+ List primaryProcesses
</span></span><span class=line><span class=cl>+ Bitmapset processesMap
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>note right of ExecSlice::primaryProcesses
</span></span><span class=line><span class=cl>A list of CDBProcess nodes corresponding to the worker
</span></span><span class=line><span class=cl>processes allocated to implement this plan slice.
</span></span><span class=line><span class=cl>end note
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>note right of ExecSlice::processesMap
</span></span><span class=line><span class=cl>A bitmap to identify which QE should execute this slice
</span></span><span class=line><span class=cl>end note
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SliceTable o-- ExecSlice
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>class Gang {
</span></span><span class=line><span class=cl>+ GangType type
</span></span><span class=line><span class=cl>+ int size
</span></span><span class=line><span class=cl>+ struct db_descriptors
</span></span><span class=line><span class=cl>+ bool allocated
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>note right of Gang::db_descriptors
</span></span><span class=line><span class=cl>Array of QEs/segDBs that make up this gang.
</span></span><span class=line><span class=cl>Sorted by segment index.
</span></span><span class=line><span class=cl>end note
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ExecSlice *-- Gang
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>class CdbProcess {
</span></span><span class=line><span class=cl>+ NodeTag type
</span></span><span class=line><span class=cl>+ char listenerAddr
</span></span><span class=line><span class=cl>+ int listenerPort
</span></span><span class=line><span class=cl>+ int pid
</span></span><span class=line><span class=cl>+ int contentid
</span></span><span class=line><span class=cl>+ int dbid
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ExecSlice o-- CdbProcess
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>class SegmentDatabaseDescriptor {
</span></span><span class=line><span class=cl>+ struct segment_database_info
</span></span><span class=line><span class=cl>+ int segindex
</span></span><span class=line><span class=cl>+ int conn
</span></span><span class=line><span class=cl>+ int motionListener
</span></span><span class=line><span class=cl>+ int backendPid
</span></span><span class=line><span class=cl>+ char whoami
</span></span><span class=line><span class=cl>+ int isWriter
</span></span><span class=line><span class=cl>+ int identifier
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Gang o-- SegmentDatabaseDescriptor
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>class CdbComponentDatabases {
</span></span><span class=line><span class=cl>+ CdbComponentDatabaseInfo segment_db_info
</span></span><span class=line><span class=cl>+ int total_segment_dbs
</span></span><span class=line><span class=cl>+ CdbComponentDatabaseInfo entry_db_info
</span></span><span class=line><span class=cl>+ int total_entry_dbs
</span></span><span class=line><span class=cl>+ int total_segments
</span></span><span class=line><span class=cl>+ int fts_version
</span></span><span class=line><span class=cl>+ int expand_version
</span></span><span class=line><span class=cl>+ int numActiveQEs
</span></span><span class=line><span class=cl>+ int numIdleQEs
</span></span><span class=line><span class=cl>+ int qeCounter
</span></span><span class=line><span class=cl>+ List freeCounterList
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>note right of CdbComponentDatabaseInfo::segment_db_info
</span></span><span class=line><span class=cl>array of  SegmentDatabaseInfo for segment databases
</span></span><span class=line><span class=cl>end note
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>note right of CdbComponentDatabaseInfo::entry_db_info
</span></span><span class=line><span class=cl>array of  SegmentDatabaseInfo for entry databases
</span></span><span class=line><span class=cl>end note
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>class CdbComponentDatabaseInfo {
</span></span><span class=line><span class=cl>+ struct config
</span></span><span class=line><span class=cl>+ CdbComponentDatabases cdbs
</span></span><span class=line><span class=cl>+ int hostSegs
</span></span><span class=line><span class=cl>+ List freelist
</span></span><span class=line><span class=cl>+ int numIdleQEs
</span></span><span class=line><span class=cl>+ int numActiveQEs
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>note right of CdbComponentDatabaseInfo::cdbs
</span></span><span class=line><span class=cl>point to owners
</span></span><span class=line><span class=cl>end note
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CdbComponentDatabases o-- CdbComponentDatabaseInfo
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>class GpSegConfigEntry {
</span></span><span class=line><span class=cl>+ int dbid
</span></span><span class=line><span class=cl>+ int segindex
</span></span><span class=line><span class=cl>+ char role
</span></span><span class=line><span class=cl>+ char preferred_role
</span></span><span class=line><span class=cl>+ char mode
</span></span><span class=line><span class=cl>+ char status
</span></span><span class=line><span class=cl>+ int port
</span></span><span class=line><span class=cl>+ char hostname
</span></span><span class=line><span class=cl>+ char address
</span></span><span class=line><span class=cl>+ char datadir
</span></span><span class=line><span class=cl>+ char hostip
</span></span><span class=line><span class=cl>+ char hostaddrs
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CdbComponentDatabaseInfo o-- GpSegConfigEntry
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SegmentDatabaseDescriptor o-- CdbComponentDatabaseInfo
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>@enduml
</span></span></code></pre></td></tr></table></div></div><p><a id=org8e85c57></a></p></div><div class=post-footer><a href=/2022/05/gpdb_cdb/>阅读全文</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2022/05/gpdb-memory-control/>gpdb memory control</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2022-05-01>2022-05-01</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:3ca2edd6-a67c-49c7-a59e-fcb2eea8be86 rel><span class="org-todo todo TODO">TODO</span> VMem</a></li><li><span class=section-num>2</span> <a href=#h:6dc217ce-2d94-47e0-8a0d-eaeee600085f rel>Resource Group Control</a><ul><li><span class=section-num>2.1</span> <a href=#h:b2a8da56-79b8-4f04-ac28-5cbf019eea54 rel>Bypass</a></li><li><span class=section-num>2.2</span> <a href=#h:3d341c1e-c9a0-4f50-a1c9-62f8b7cf2fae rel>Fixed Mem</a></li><li><span class=section-num>2.3</span> <a href=#h:6d42ffdf-6c48-4449-92e5-60f27205fc87 rel>Memory Limit</a></li></ul></li></ul></div><h2 id=h:3ca2edd6-a67c-49c7-a59e-fcb2eea8be86><span class="org-todo todo TODO">TODO</span> <span class=section-num>1</span> VMem</h2><h2 id=h:6dc217ce-2d94-47e0-8a0d-eaeee600085f><span class=section-num>2</span> Resource Group Control</h2><ul><li><code>ResourceGroupGetQueryMemoryLimit(void)</code> 用于获取内存限制的绝对大小 （非百分比）</li></ul><h3 id=h:b2a8da56-79b8-4f04-ac28-5cbf019eea54><span class=section-num>2.1</span> Bypass</h3><ul><li><p>绕开资源限制模式</p></li><li><p>Enabled when:</p><ul><li><p><code>gp_resource_group_bypass</code> is true: <a href=https://github.com/greenplum-db/gpdb/blob/main/src/backend/utils/misc/guc_gp.c#L2754 target=_blank rel="noopener noreffer">guc_gp.c</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s>&#34;gp_resource_group_bypass&#34;</span><span class=p>,</span> <span class=n>PGC_USERSET</span><span class=p>,</span> <span class=n>RESOURCES</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nf>gettext_noop</span><span class=p>(</span><span class=s>&#34;If the value is true, the query in this session will not be limited by resource group.&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=nb>NULL</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;</span><span class=n>gp_resource_group_bypass</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nb>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>check_gp_resource_group_bypass</span><span class=p>,</span> <span class=nb>NULL</span><span class=p>,</span> <span class=nb>NULL</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Or command is one of:</p></div><div class=post-footer><a href=/2022/05/gpdb-memory-control/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/gp/>Gp</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2022/05/gpdb-configuring-your-systems/>GPDB: Configuring Your Systems</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2022-05-01>2022-05-01</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:3127b791-8437-4d53-bf04-17e651151969 rel>IP Fragmentation Settings</a></li><li><span class=section-num>2</span> <a href=#h:8109178d-d6f2-4bf1-9213-38024fbf79b1 rel>Networking</a></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： <a href=https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html target=_blank rel="noopener noreffer">https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html</a></p><h2 id=h:3127b791-8437-4d53-bf04-17e651151969><span class=section-num>1</span> <a href="https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html#:~:text=IP%20Fragmentation%20Settings" target=_blank rel="noopener noreffer">IP Fragmentation Settings</a></h2><p>IP Fragmentation Settings</p><p>When the Greenplum Database interconnect uses UDP (the default), the network interface
card controls IP packet fragmentation and reassemblies.</p><p>If the UDP message size is larger than the size of the maximum transmission unit (MTU) of
a network, the IP layer fragments the message. (Refer to Networking later in this topic
for more information about MTU sizes for Greenplum Database.) The receiver must store the
fragments in a buffer before it can reorganize and reassemble the message.</p></div><div class=post-footer><a href=/2022/05/gpdb-configuring-your-systems/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/gp/>Gp</a>,&nbsp;<a href=/tags/configuration/>Configuration</a>,&nbsp;<a href=/tags/network/>Network</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2022/05/pg_hash_index/>Hash Index of PG</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2022-05-01>2022-05-01</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:307f8d11-ac46-4f53-9442-3e1790a581fa rel>Hash Indexing</a></li><li><span class=section-num>2</span> <a href=#h:e284dd98-5860-4a26-9029-8c19dc8551db rel>Page Addressing</a></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： ../../../Work/pg_master/src/backend/access/hash/README</p><h2 id=h:307f8d11-ac46-4f53-9442-3e1790a581fa><span class=section-num>1</span> Hash Indexing</h2><p>这个目录包含了 Postgres 的散列索引实现。其中大部分核心思想来自于 Margo Seltzer 和 Ozan
Yigit 在 1991 年 1 月举行的冬季 USENIX 会议上的论文《A New Hashing Package for UNIX》。我们的内存哈希表实现（src/backend/utils/hash/dynahash.c）也依赖于相同的概念；它源自于 Esmond
Pitt 编写的代码，后来又由 Margo 和其他人进行了改进。</p></div><div class=post-footer><a href=/2022/05/pg_hash_index/>阅读全文</a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2022/05/how-to-use-journalctl-to-view-and-manipulate-systemd-logs/>How To Use Journalctl to View and Manipulate Systemd Logs</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2022-05-01>2022-05-01</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:cf631f63-41b8-4f82-8544-76d72d2bdcdf rel>Basic Log Viewing</a></li><li><span class=section-num>2</span> <a href=#h:a95fc26a-5a39-458f-9a0f-bbbddcbab960 rel>Journal Filtering by Time</a><ul><li><span class=section-num>2.1</span> <a href=#h:692298a1-3c38-4603-9577-94123cec0d63 rel>Displaying Logs from the Current Boot</a></li><li><span class=section-num>2.2</span> <a href=#h:d6a93171-ab71-47be-b173-951f3cc5675a rel>Filtering by Message Interest</a></li></ul></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： <a href=https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs target=_blank rel="noopener noreffer">https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs</a></p><h2 id=h:cf631f63-41b8-4f82-8544-76d72d2bdcdf><span class=section-num>1</span> Basic Log Viewing</h2><p>要查看 journald 守护程序收集的日志，请使用 journalctl 命令。</p><p>当单独使用时，系统中的每个日志条目都会在翻页器（通常是 less）中显示，供您浏览。最旧的条目将显示在顶部：</p></div><div class=post-footer><a href=/2022/05/how-to-use-journalctl-to-view-and-manipulate-systemd-logs/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/journalctl/>Journalctl</a>,&nbsp;<a href=/tags/logs/>Logs</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2022/05/p1092-loghin/>Hybrid Blockchain Database Systems: Design and Performance</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2022-05-01>2022-05-01</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:9f78e1f8-2b12-4076-aac1-e9e70da3d5c4 rel>ABSTRACT</a></li><li><span class=section-num>2</span> <a href=#h:9a37547d-d53e-4acb-870b-1a94f6f35306 rel>INTRODUCTION</a></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： attachments/pdf/e/p1092-loghin.pdf</p><h2 id=h:9f78e1f8-2b12-4076-aac1-e9e70da3d5c4><span class=section-num>1</span> ABSTRACT</h2><p>Abbrs:</p><ul><li>CFT: crash fault-tolerant</li><li>BFT: <a href=https://river.com/learn/terms/b/byzantine-fault-tolerance-bft/ target=_blank rel="noopener noreffer">byzantine fault-tolerant</a><br>Byzantine Fault Tolerance (BFT) is a trait of decentralized, permissionless
systems which are capable of successfully identifying and rejecting
dishonest or faulty information. Byzantine fault tolerant systems have
successfully solved the Byzantine Generals Problem and are robust against
sybil attacks.</li></ul><h2 id=h:9a37547d-d53e-4acb-870b-1a94f6f35306><span class=section-num>2</span> INTRODUCTION</h2><ul><li><p>学术界出现了集成分布式数据库与区块链特性的系统</p></div><div class=post-footer><a href=/2022/05/p1092-loghin/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/blockchain/>Blockchain</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2022/05/ireader--calibre/>iReader & Calibre</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2022-05-01>2022-05-01</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:57f79f38-e207-4293-a147-b02bfdf82069 rel>表现</a></li><li><span class=section-num>2</span> <a href=#h:9678f102-5772-4b3e-941f-438745e83994 rel>原因</a></li><li><span class=section-num>3</span> <a href=#h:827d4da8-a906-4237-8c61-90b1b020c9df rel>绕过方法</a></li></ul></div><h2 id=h:57f79f38-e207-4293-a147-b02bfdf82069><span class=section-num>1</span> 表现</h2><p>通过 Calibre 向 iReader 中传输书籍失败，报 MTP 相关错误。</p><h2 id=h:9678f102-5772-4b3e-941f-438745e83994><span class=section-num>2</span> 原因</h2><p>不知道为什么，无法在设备存储空间中创建目录</p><h2 id=h:827d4da8-a906-4237-8c61-90b1b020c9df><span class=section-num>3</span> 绕过方法</h2><ol><li>用文件管理器提前创建 Books 目录 （不推荐）, 或者</li><li>在 Calibre 中找到设备，选择配置，将传输目录指向已有的目录，例如 iTransfer</li></ol><p>推荐第二种，配置过后会生成下面的配置文件 <code>~/.config/calibre/mtp_devices.json</code></p></div><div class=post-footer><a href=/2022/05/ireader--calibre/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/calibre/>Calibre</a>,&nbsp;<a href=/tags/mtp/>Mtp</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2022/05/p1011-jin/>Making RDBMSs Efficient on Graph Workloads Through Predefined Joins</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2022-05-01>2022-05-01</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:9e32e840-e079-4e4f-b2dc-96119d5f58da rel>ABSTRACT</a></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： attachments/pdf/4/p1011-jin.pdf</p><h2 id=h:9e32e840-e079-4e4f-b2dc-96119d5f58da><span class=section-num>1</span> ABSTRACT</h2></div><div class=post-footer><a href=/2022/05/p1011-jin/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/join/>Join</a>,&nbsp;<a href=/tags/graph/>Graph</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2022/05/p3548-yan/>Manu: A Cloud Native Vector Database Management System</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2022-05-01>2022-05-01</time></span></div><div class=content><div class="ox-hugo-toc toc has-section-numbers"><div class=heading>Table of Contents</div><ul><li><span class=section-num>1</span> <a href=#h:5628f2fa-3be2-4312-8bb1-d8da17d2d39a rel>ABSTRACT</a></li><li><span class=section-num>2</span> <a href=#h:21580be0-85a4-4596-838b-f76c80a9b8c8 rel>INTRODUCTION</a></li></ul></div><p>本文为摘录(或转载)，侵删，原文为： attachments/pdf/8/p3548-yan.pdf</p><h2 id=h:5628f2fa-3be2-4312-8bb1-d8da17d2d39a><span class=section-num>1</span> ABSTRACT</h2><p>下一代向量数据库应该有的特性：</p><ul><li>可长期演进</li><li>tunable consistency</li><li>good elasticity</li><li>high performance</li></ul><p>Manu 通过放宽数据模型和一致性约束来换取上述特性：</p></div><div class=post-footer><a href=/2022/05/p3548-yan/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/vector/>Vector</a>,&nbsp;<a href=/tags/engine/>Engine</a>,&nbsp;<a href=/tags/database/>Database</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2022/05/p1187-zhang/>NBTree: a Lock-free PM-friendly Persistent B+-Tree for eADR-enabled PM Systems</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>yc</a></span>&nbsp;<span class=post-publish>发布于 <time datetime=2022-05-01>2022-05-01</time></span></div><div class=content><p>本文为摘录(或转载)，侵删，原文为： attachments/pdf/a/p1187-zhang.pdf</p><ul><li><p><strong>PM</strong> stands for Persistent Memory， 持久内存，它是一种非易失性内存，即使断电也能保留数据。</p></li><li><p><strong>eADR</strong> 保证了 CPU 缓存中的数据在电源故障时会被刷新到 PM 中</p></div><div class=post-footer><a href=/2022/05/p1187-zhang/>阅读全文</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/persistent/>Persistent</a>,&nbsp;<a href=/tags/memory/>Memory</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/27/>27</a></span></li><li class=page-item><span class=page-link><a href=/page/28/>28</a></span></li><li class="page-item active"><span class=page-link><a href=/page/29/>29</a></span></li><li class=page-item><span class=page-link><a href=/page/30/>30</a></span></li><li class=page-item><span class=page-link><a href=/page/31/>31</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>