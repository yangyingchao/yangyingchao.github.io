<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Compiler considerations — The Linux Kernel 5.7.0+ documentation | MyNotes</title><meta name=keywords content="tag1,tag2"><meta name=description content="1 Interprocedural optimization 2 GCC function suffixes 本文为摘录，原文为： https://people.redhat.com/~jolawren/klp-compiler-notes/livepatch/compiler-considerations.html 1 Interprocedural optimization 函数内联可能是影响动态修补最常见的编译器优化。在一个简单的例子中，内联将原始代码转换为： foo() { ... [ foo"><meta name=author content="Yang, Ying-chao"><link rel=canonical href=https://yangyingchao.github.io/posts/compiler-considerations/><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://yangyingchao.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://yangyingchao.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://yangyingchao.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://yangyingchao.github.io/apple-touch-icon.png><link rel=mask-icon href=https://yangyingchao.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Compiler considerations — The Linux Kernel 5.7.0+ documentation"><meta property="og:description" content="1 Interprocedural optimization 2 GCC function suffixes 本文为摘录，原文为： https://people.redhat.com/~jolawren/klp-compiler-notes/livepatch/compiler-considerations.html 1 Interprocedural optimization 函数内联可能是影响动态修补最常见的编译器优化。在一个简单的例子中，内联将原始代码转换为： foo() { ... [ foo"><meta property="og:type" content="article"><meta property="og:url" content="https://yangyingchao.github.io/posts/compiler-considerations/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-27T00:00:00+00:00"><meta property="article:modified_time" content="2023-12-27T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Compiler considerations — The Linux Kernel 5.7.0+ documentation"><meta name=twitter:description content="1 Interprocedural optimization 2 GCC function suffixes 本文为摘录，原文为： https://people.redhat.com/~jolawren/klp-compiler-notes/livepatch/compiler-considerations.html 1 Interprocedural optimization 函数内联可能是影响动态修补最常见的编译器优化。在一个简单的例子中，内联将原始代码转换为： foo() { ... [ foo"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://yangyingchao.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Compiler considerations — The Linux Kernel 5.7.0+ documentation","item":"https://yangyingchao.github.io/posts/compiler-considerations/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Compiler considerations — The Linux Kernel 5.7.0+ documentation","name":"Compiler considerations — The Linux Kernel 5.7.0\u002b documentation","description":"1 Interprocedural optimization 2 GCC function suffixes 本文为摘录，原文为： https://people.redhat.com/~jolawren/klp-compiler-notes/livepatch/compiler-considerations.html 1 Interprocedural optimization 函数内联可能是影响动态修补最常见的编译器优化。在一个简单的例子中，内联将原始代码转换为： foo() { ... [ foo","keywords":["tag1","tag2"],"articleBody":" 1 Interprocedural optimization 2 GCC function suffixes 本文为摘录，原文为： https://people.redhat.com/~jolawren/klp-compiler-notes/livepatch/compiler-considerations.html\n1 Interprocedural optimization 函数内联可能是影响动态修补最常见的编译器优化。在一个简单的例子中，内联将原始代码转换为：\nfoo() { ... [ foo implementation ] ... } bar() { ... foo() ... } 变为：\nbar() { ... [ foo implementation ] ... } 内联类似于宏展开，然而编译器可能会内联它认为值得的情况（同时保留其他情况下的原始调用/返 回语义），甚至部分内联函数的部分（见下文“GCC 函数后缀”中的冷函数）。\n要安全地对上述示例中的 foo()进行动态修补，需要考虑到所有调用它的地方。对于那些编译器已经 内联了 foo()的调用者，动态修补应该包含一个调用新的被修补内联函数版本的调用函数的新版本， 使得它：\n调用内联函数的新的被修补版本，或者 提供调用者的更新版本，其中包含其自己的内联并更新的内联函数版本 2 GCC function suffixes GCC 可能会根据应用的优化将原始、复制和克隆函数进行重命名。以下是编译器可能应用于内核函数的名称后缀的部分列表：\n冷子函数(Cold subfunctions) ： .code 或者 .cold. ： 由属性或优化确定不太可能执行的函数（子函数）的部分。\n例如， irq_do_set_affinity() 的不太可能执行的部分可能移出到子函数 irq_do_set_affinity.cold.49() 。从 GCC 9 开始，编号后缀已被移除。因此，在上一个例子中，冷 子函数简单地为 irq_do_set_affinity.cold() 。\n部分内:联 .part. ： 从原始函数主体中分离出来的函数部分，在整体内联决策上有所改进。 函数 cdev_put() 提供 了一个有趣的部分克隆的例子。GCC 会将源函数：\nvoid cdev_put(struct cdev *p) { if (p) { struct module *owner = p-\u003eowner; kobject_put(\u0026p-\u003ekobj); module_put(owner); } } 拆成两个函数： cdev_put.part.0() 为部分内联， cdev_put 会调用 cdev_put.part.0()\n将 cdev_put() 中的条件测试和 cdev_put.part.0() 中的 kobject_put() 和 module_put() 调用分成两个函数：\n\u003ccdev_put\u003e: e8 bb 60 73 00 callq ffffffff81a01a10 \u003c__fentry__\u003e 48 85 ff test %rdi,%rdi 74 05 je ffffffff812cb95f \u003ccdev_put+0xf\u003e e9 a1 fc ff ff jmpq ffffffff812cb600 \u003ccdev_put.part.0\u003e c3 retq \u003ccdev_put.part.0\u003e: e8 0b 64 73 00 callq ffffffff81a01a10 \u003c__fentry__\u003e 53 push %rbx 48 8b 5f 60 mov 0x60(%rdi),%rbx e8 a1 54 5a 00 callq ffffffff81870ab0 \u003ckobject_put\u003e 48 89 df mov %rbx,%rdi 5b pop %rbx e9 b8 5c e8 ff jmpq ffffffff811512d0 \u003cmodule_put\u003e 0f 1f 84 00 00 00 00 nopl 0x0(%rax,%rax,1) 00 常量传播 (Constant propagation) : .constprop. : function copies to enable constant propagation when conflicting arguments exist.\nFor example, consider cpumask_weight() and its copies for cpumask_weight(cpu_possible_mask) and cpumask_weight (__cpu_online_mask).\nNote how the .constprop copies implicitly assign the function parameter:\n\u003ccpumask_weight\u003e: 8b 35 1e 7d 3e 01 mov 0x13e7d1e(%rip),%esi e9 55 6e 3f 00 jmpq ffffffff8141d2b0 \u003c__bitmap_weight\u003e \u003ccpumask_weight.constprop.28\u003e: 8b 35 79 cf 1c 01 mov 0x11ccf79(%rip),%esi 48 c7 c7 80 db 40 82 mov $0xffffffff8240db80,%rdi R_X86_64_32S __cpu_possible_mask e9 a9 c0 1d 00 jmpq ffffffff8141d2b0 \u003c__bitmap_weight\u003e \u003ccpumask_weight.constprop.108\u003e: 8b 35 de 69 32 01 mov 0x13269de(%rip),%esi 48 c7 c7 80 d7 40 82 mov $0xffffffff8240d780,%rdi R_X86_64_32S __cpu_online_mask e9 0e 5b 33 00 jmpq ffffffff8141d2b0 \u003c__bitmap_weight\u003e IPA-SRA : .isra.0 : TODO ","wordCount":"802","inLanguage":"zh-cn","datePublished":"2023-12-27T00:00:00Z","dateModified":"2023-12-27T00:00:00Z","author":[{"@type":"Person","name":"Yang"},{"@type":"Person","name":"Ying-chao"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://yangyingchao.github.io/posts/compiler-considerations/"},"publisher":{"@type":"Organization","name":"MyNotes","logo":{"@type":"ImageObject","url":"https://yangyingchao.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yangyingchao.github.io accesskey=h title="MyNotes (Alt + H)">MyNotes</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://yangyingchao.github.io/ title=Home><span>Home</span></a></li><li><a href=https://yangyingchao.github.io/posts/ title=Archives><span>Archives</span></a></li><li><a href=https://yangyingchao.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://yangyingchao.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://yangyingchao.github.io/contact/ title="Contact me"><span>Contact me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Compiler considerations — The Linux Kernel 5.7.0+ documentation</h1><div class=post-meta><span title='2023-12-27 00:00:00 +0000 UTC'>December 27, 2023</span>&nbsp;·&nbsp;Yang, Ying-chao</div></header><div class=post-content><ul><li>1 <a href=#h:4fd016cf-5c6d-455b-9d00-b939b023b4b6>Interprocedural optimization</a></li><li>2 <a href=#h:548d6856-3e29-4e21-b186-2a7c202abb46>GCC function suffixes</a></li></ul><p>本文为摘录，原文为： <a href=https://people.redhat.com/~jolawren/klp-compiler-notes/livepatch/compiler-considerations.html>https://people.redhat.com/~jolawren/klp-compiler-notes/livepatch/compiler-considerations.html</a></p><h2 id=h:4fd016cf-5c6d-455b-9d00-b939b023b4b6>1 Interprocedural optimization<a hidden class=anchor aria-hidden=true href=#h:4fd016cf-5c6d-455b-9d00-b939b023b4b6>#</a></h2><p>函数内联可能是影响动态修补最常见的编译器优化。在一个简单的例子中，内联将原始代码转换为：</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#00f>foo</span>() { ... [ foo implementation ] ... }
</span></span><span style=display:flex><span><span style=color:#00f>bar</span>() { ... <span style=color:#00f>foo</span>() ... }
</span></span></code></pre></div><p>变为：</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#00f>bar</span>() { ... [ foo implementation ] ... }
</span></span></code></pre></div><p>内联类似于宏展开，然而编译器可能会内联它认为值得的情况（同时保留其他情况下的原始调用/返
回语义），甚至部分内联函数的部分（见下文“GCC 函数后缀”中的冷函数）。</p><p>要安全地对上述示例中的 foo()进行动态修补，需要考虑到所有调用它的地方。对于那些编译器已经
内联了 foo()的调用者，动态修补应该包含一个调用新的被修补内联函数版本的调用函数的新版本，
使得它：</p><ol><li>调用内联函数的新的被修补版本，或者</li><li>提供调用者的更新版本，其中包含其自己的内联并更新的内联函数版本</li></ol><h2 id=h:548d6856-3e29-4e21-b186-2a7c202abb46>2 GCC function suffixes<a hidden class=anchor aria-hidden=true href=#h:548d6856-3e29-4e21-b186-2a7c202abb46>#</a></h2><p>GCC 可能会根据应用的优化将原始、复制和克隆函数进行重命名。以下是编译器可能应用于内核函数的名称后缀的部分列表：</p><ul><li><p><code>冷子函数(Cold subfunctions)</code> ： <code>.code</code> 或者 <code>.cold.&lt;N></code> ：
由属性或优化确定不太可能执行的函数（子函数）的部分。</p><p>例如， <code>irq_do_set_affinity()</code> 的不太可能执行的部分可能移出到子函数
<code>irq_do_set_affinity.cold.49()</code> 。从 GCC 9 开始，编号后缀已被移除。因此，在上一个例子中，冷
子函数简单地为 <code>irq_do_set_affinity.cold()</code> 。</p></li><li><p><code>部分内:联</code> <code>.part.&lt;N></code> ：
从原始函数主体中分离出来的函数部分，在整体内联决策上有所改进。 函数 <code>cdev_put()</code> 提供
了一个有趣的部分克隆的例子。GCC 会将源函数：</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#b00040>void</span> <span style=color:#00f>cdev_put</span>(<span style=color:green;font-weight:700>struct</span> cdev <span style=color:#666>*</span>p)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>if</span> (p) {
</span></span><span style=display:flex><span>                <span style=color:green;font-weight:700>struct</span> module <span style=color:#666>*</span>owner <span style=color:#666>=</span> p<span style=color:#666>-&gt;</span>owner;
</span></span><span style=display:flex><span>                <span style=color:#00f>kobject_put</span>(<span style=color:#666>&amp;</span>p<span style=color:#666>-&gt;</span>kobj);
</span></span><span style=display:flex><span>                <span style=color:#00f>module_put</span>(owner);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>拆成两个函数： <code>cdev_put.part.0()</code> 为部分内联， <code>cdev_put</code> 会调用 <code>cdev_put.part.0()</code></p></li></ul><p>将 <code>cdev_put()</code> 中的条件测试和 <code>cdev_put.part.0()</code> 中的 <code>kobject_put()</code> 和 <code>module_put()</code> 调用分成两个函数：</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-asm data-lang=asm><span style=display:flex><span><span>&lt;</span><span style=color:#00f>cdev_put</span><span>&gt;</span>:
</span></span><span style=display:flex><span>       <span style=color:#00f>e8</span> <span style=color:#800>bb</span> <span style=color:#666>60</span> <span style=color:#666>73</span> <span style=color:#666>00</span>          <span style=color:#800>callq</span>  <span style=color:#666>ffffffff81a01a10</span> &lt;<span style=color:#800>__fentry__</span>&gt;
</span></span><span style=display:flex><span>       <span>48</span> <span>85</span> <span style=color:#00f>ff</span>                <span style=color:#800>test</span>   <span style=color:#19177c>%rdi</span>,<span style=color:#19177c>%rdi</span>
</span></span><span style=display:flex><span>       <span>74</span> <span>05</span>                   <span style=color:#00f>je</span>     <span style=color:#666>ffffffff812cb95f</span> &lt;<span style=color:#800>cdev_put</span>+<span style=color:#666>0xf</span>&gt;
</span></span><span style=display:flex><span>       <span style=color:#00f>e9</span> <span style=color:#800>a1</span> <span style=color:#800>fc</span> <span style=color:#800>ff</span> <span style=color:#800>ff</span>          <span style=color:#800>jmpq</span>   <span style=color:#666>ffffffff812cb600</span> &lt;<span style=color:#800>cdev_put.part.0</span>&gt;
</span></span><span style=display:flex><span>       <span style=color:#00f>c3</span>                      <span style=color:#800>retq</span>
</span></span><span style=display:flex><span><span>&lt;</span><span style=color:#00f>cdev_put.part.0</span><span>&gt;</span>:
</span></span><span style=display:flex><span>       <span style=color:#00f>e8</span> <span style=color:#666>0</span><span style=color:#800>b</span> <span style=color:#666>64</span> <span style=color:#666>73</span> <span style=color:#666>00</span>          <span style=color:#800>callq</span>  <span style=color:#666>ffffffff81a01a10</span> &lt;<span style=color:#800>__fentry__</span>&gt;
</span></span><span style=display:flex><span>       <span>53</span>                      <span style=color:#00f>push</span>   <span style=color:#19177c>%rbx</span>
</span></span><span style=display:flex><span>       <span>48</span> <span>8</span><span style=color:#00f>b</span> <span style=color:#666>5</span><span style=color:#800>f</span> <span style=color:#666>60</span>             <span style=color:#800>mov</span>    <span style=color:#666>0x60</span>(<span style=color:#19177c>%rdi</span>),<span style=color:#19177c>%rbx</span>
</span></span><span style=display:flex><span>       <span style=color:#00f>e8</span> <span style=color:#800>a1</span> <span style=color:#666>54</span> <span style=color:#666>5</span><span style=color:#800>a</span> <span style=color:#666>00</span>          <span style=color:#800>callq</span>  <span style=color:#666>ffffffff81870ab0</span> &lt;<span style=color:#800>kobject_put</span>&gt;
</span></span><span style=display:flex><span>       <span>48</span> <span>89</span> <span style=color:#00f>df</span>                <span style=color:#800>mov</span>    <span style=color:#19177c>%rbx</span>,<span style=color:#19177c>%rdi</span>
</span></span><span style=display:flex><span>       <span>5</span><span style=color:#00f>b</span>                      <span style=color:#800>pop</span>    <span style=color:#19177c>%rbx</span>
</span></span><span style=display:flex><span>       <span style=color:#00f>e9</span> <span style=color:#800>b8</span> <span style=color:#666>5</span><span style=color:#800>c</span> <span style=color:#800>e8</span> <span style=color:#800>ff</span>          <span style=color:#800>jmpq</span>   <span style=color:#666>ffffffff811512d0</span> &lt;<span style=color:#800>module_put</span>&gt;
</span></span><span style=display:flex><span>       <span>0</span><span style=color:#00f>f</span> <span style=color:#666>1</span><span style=color:#800>f</span> <span style=color:#666>84</span> <span style=color:#666>00</span> <span style=color:#666>00</span> <span style=color:#666>00</span> <span style=color:#666>00</span>    <span style=color:#800>nopl</span>   <span style=color:#666>0x0</span>(<span style=color:#19177c>%rax</span>,<span style=color:#19177c>%rax</span>,<span style=color:#666>1</span>)
</span></span><span style=display:flex><span>       <span>00</span>
</span></span></code></pre></div><ul><li><p><code>常量传播 (Constant propagation)</code> : <code>.constprop.&lt;N></code> :
function copies to enable constant propagation when conflicting arguments exist.</p><p>For example, consider <code>cpumask_weight()</code> and its copies for
<code>cpumask_weight(cpu_possible_mask)</code> and <code>cpumask_weight (__cpu_online_mask)</code>.</p><p>Note how the .constprop copies implicitly assign the function parameter:</p></li></ul><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-asm data-lang=asm><span style=display:flex><span><span>&lt;</span><span style=color:#00f>cpumask_weight</span><span>&gt;</span>:
</span></span><span style=display:flex><span>       <span>8</span><span style=color:#00f>b</span> <span style=color:#666>35</span> <span style=color:#666>1</span><span style=color:#800>e</span> <span style=color:#666>7</span><span style=color:#800>d</span> <span style=color:#666>3</span><span style=color:#800>e</span> <span style=color:#666>01</span>       <span style=color:#800>mov</span>    <span style=color:#666>0x13e7d1e</span>(<span style=color:#19177c>%rip</span>),<span style=color:#19177c>%esi</span>
</span></span><span style=display:flex><span>       <span style=color:#00f>e9</span> <span style=color:#666>55</span> <span style=color:#666>6</span><span style=color:#800>e</span> <span style=color:#666>3</span><span style=color:#800>f</span> <span style=color:#666>00</span>          <span style=color:#800>jmpq</span>   <span style=color:#666>ffffffff8141d2b0</span> &lt;<span style=color:#800>__bitmap_weight</span>&gt;
</span></span><span style=display:flex><span><span>&lt;</span><span style=color:#00f>cpumask_weight.constprop.28</span><span>&gt;</span>:
</span></span><span style=display:flex><span>       <span>8</span><span style=color:#00f>b</span> <span style=color:#666>35</span> <span style=color:#666>79</span> <span style=color:#800>cf</span> <span style=color:#666>1</span><span style=color:#800>c</span> <span style=color:#666>01</span>       <span style=color:#800>mov</span>    <span style=color:#666>0x11ccf79</span>(<span style=color:#19177c>%rip</span>),<span style=color:#19177c>%esi</span>
</span></span><span style=display:flex><span>       <span>48</span> <span style=color:#00f>c7</span> <span style=color:#800>c7</span> <span style=color:#666>80</span> <span style=color:#800>db</span> <span style=color:#666>40</span> <span style=color:#666>82</span>    <span style=color:#800>mov</span>    <span style=color:#800>$0xffffffff8240db80</span>,<span style=color:#19177c>%rdi</span>
</span></span><span style=display:flex><span>                         <span style=color:#00f>R_X86_64_32S</span>  <span style=color:#800>__cpu_possible_mask</span>
</span></span><span style=display:flex><span>       <span style=color:#00f>e9</span> <span style=color:#800>a9</span> <span style=color:#800>c0</span> <span style=color:#666>1</span><span style=color:#800>d</span> <span style=color:#666>00</span>          <span style=color:#800>jmpq</span>   <span style=color:#666>ffffffff8141d2b0</span> &lt;<span style=color:#800>__bitmap_weight</span>&gt;
</span></span><span style=display:flex><span><span>&lt;</span><span style=color:#00f>cpumask_weight.constprop.108</span><span>&gt;</span>:
</span></span><span style=display:flex><span>       <span>8</span><span style=color:#00f>b</span> <span style=color:#666>35</span> <span style=color:#800>de</span> <span style=color:#666>69</span> <span style=color:#666>32</span> <span style=color:#666>01</span>       <span style=color:#800>mov</span>    <span style=color:#666>0x13269de</span>(<span style=color:#19177c>%rip</span>),<span style=color:#19177c>%esi</span>
</span></span><span style=display:flex><span>       <span>48</span> <span style=color:#00f>c7</span> <span style=color:#800>c7</span> <span style=color:#666>80</span> <span style=color:#800>d7</span> <span style=color:#666>40</span> <span style=color:#666>82</span>    <span style=color:#800>mov</span>    <span style=color:#800>$0xffffffff8240d780</span>,<span style=color:#19177c>%rdi</span>
</span></span><span style=display:flex><span>                         <span style=color:#00f>R_X86_64_32S</span>  <span style=color:#800>__cpu_online_mask</span>
</span></span><span style=display:flex><span>       <span style=color:#00f>e9</span> <span style=color:#666>0</span><span style=color:#800>e</span> <span style=color:#666>5</span><span style=color:#800>b</span> <span style=color:#666>33</span> <span style=color:#666>00</span>          <span style=color:#800>jmpq</span>   <span style=color:#666>ffffffff8141d2b0</span> &lt;<span style=color:#800>__bitmap_weight</span>&gt;
</span></span></code></pre></div><ul><li>IPA-SRA : .isra.0 : TODO</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://yangyingchao.github.io/tags/tag1/>tag1</a></li><li><a href=https://yangyingchao.github.io/tags/tag2/>tag2</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://yangyingchao.github.io>MyNotes</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>