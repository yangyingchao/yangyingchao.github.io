<!doctype html><html lang=zh-cn><head><title>GPDB: Configuring Your Systems · MyNotes</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="yyc"><meta name=description content="1 IP Fragmentation Settings 2 Networking 本文为摘录，原文为： https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html 1 IP Fragmentation Settings 链接到标题 IP Fragmentation Settings When the Greenplum Database interconnect uses UDP (the default), the network interface card controls IP packet fragmentation and reassemblies. If the UDP message size is larger than the size of the maximum transmission unit (MTU) of a network, the IP layer"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="GPDB: Configuring Your Systems"><meta name=twitter:description content="1 IP Fragmentation Settings 2 Networking 本文为摘录，原文为： https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html 1 IP Fragmentation Settings 链接到标题 IP Fragmentation Settings When the Greenplum Database interconnect uses UDP (the default), the network interface card controls IP packet fragmentation and reassemblies. If the UDP message size is larger than the size of the maximum transmission unit (MTU) of a network, the IP layer"><meta property="og:title" content="GPDB: Configuring Your Systems"><meta property="og:description" content="1 IP Fragmentation Settings 2 Networking 本文为摘录，原文为： https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html 1 IP Fragmentation Settings 链接到标题 IP Fragmentation Settings When the Greenplum Database interconnect uses UDP (the default), the network interface card controls IP packet fragmentation and reassemblies. If the UDP message size is larger than the size of the maximum transmission unit (MTU) of a network, the IP layer"><meta property="og:type" content="article"><meta property="og:url" content="https://yangyingchao.github.io/posts/gpdb-configuring-your-systems/"><meta property="article:section" content="posts"><link rel=canonical href=https://yangyingchao.github.io/posts/gpdb-configuring-your-systems/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.135e22c97ff685fe983fc60048e309ced8f00d8d38f536aa67dba8a13a03dfa4.css integrity="sha256-E14iyX/2hf6YP8YASOMJztjwDY049TaqZ9uooToD36Q=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>MyNotes</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact me</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://yangyingchao.github.io/posts/gpdb-configuring-your-systems/>GPDB: Configuring Your Systems</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=0001-01-01T00:00:00Z>January 1, 0001</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
阅读时间：1 分钟</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/gpdb/>gpdb</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/configuration/>configuration</a></span></div></div></header><div class=post-content><ul><li>1 <a href=#h:3127b791-8437-4d53-bf04-17e651151969>IP Fragmentation Settings</a></li><li>2 <a href=#h:8109178d-d6f2-4bf1-9213-38024fbf79b1>Networking</a></li></ul><p>本文为摘录，原文为： <a href=https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html class=external-link target=_blank rel=noopener>https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html</a></p><h2 id=h:3127b791-8437-4d53-bf04-17e651151969>1 <a href="https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html#:~:text=IP%20Fragmentation%20Settings" class=external-link target=_blank rel=noopener>IP Fragmentation Settings</a>
<a class=heading-link href=#h:3127b791-8437-4d53-bf04-17e651151969><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><p>IP Fragmentation Settings</p><p>When the Greenplum Database interconnect uses UDP (the default), the network interface
card controls IP packet fragmentation and reassemblies.</p><p>If the UDP message size is larger than the size of the maximum transmission unit (MTU) of
a network, the IP layer fragments the message. (Refer to Networking later in this topic
for more information about MTU sizes for Greenplum Database.) The receiver must store the
fragments in a buffer before it can reorganize and reassemble the message.</p><p>The following sysctl.conf operating system parameters control the reassembly process:</p><blockquote><p>OS Parameter Description
net.ipv4.ipfrag_high_thresh The maximum amount of memory used to reassemble IP
fragments before the kernel starts to remove fragments
to free up resources. The default value is 4194304
bytes (4MB).
net.ipv4.ipfrag_low_thresh The minimum amount of memory used to reassemble IP
fragments. The default value is 3145728 bytes (3MB).
(Deprecated after kernel version 4.17.)
net.ipv4.ipfrag_time The maximum amount of time (in seconds) to keep an IP
fragment in memory. The default value is 30.</p></blockquote><p>The recommended settings for these parameters for Greenplum Database follow:</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cfg data-lang=cfg><span style=display:flex><span><span style=color:#7d9029>net.ipv4.ipfrag_high_thresh</span> <span style=color:#666>=</span> <span style=color:#ba2121>41943040</span>
</span></span><span style=display:flex><span><span style=color:#7d9029>net.ipv4.ipfrag_low_thresh</span> <span style=color:#666>=</span> <span style=color:#ba2121>31457280</span>
</span></span><span style=display:flex><span><span style=color:#7d9029>net.ipv4.ipfrag_time</span> <span style=color:#666>=</span> <span style=color:#ba2121>60</span>
</span></span></code></pre></div><h2 id=h:8109178d-d6f2-4bf1-9213-38024fbf79b1>2 <a href="https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html#networking%23:~:text=Networking" class=external-link target=_blank rel=noopener>Networking</a>
<a class=heading-link href=#h:8109178d-d6f2-4bf1-9213-38024fbf79b1><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><p>The maximum transmission unit (MTU) of a network specifies the size (in bytes) of the largest data packet/frame accepted
by a network-connected device. A jumbo frame is a frame that contains more than the standard MTU of 1500 bytes.</p><p>Greenplum Database utilizes 3 distinct MTU settings:</p><p>– The Greenplum Database <code>gp_max_packet_size</code> server configuration parameter. The default max packet size is 8192. This
default assumes a jumbo frame MTU.
– The operating system MTU setting.
– The rack switch MTU setting.</p><p>These settings are connected, in that they should always be either the same,
or close to the same, value, or otherwise in the order of :
<code>Greenplum &lt; OS &lt; switch for MTU size</code>.</p><p>9000 is a common supported setting for switches, and is the recommended OS and
rack switch MTU setting for your Greenplum Database hosts.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2023
yyc
·
技术支持 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>