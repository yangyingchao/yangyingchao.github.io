<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>GPDB: Configuring Your Systems | MyNotes</title><meta name=keywords content="gpdb,configuration,network"><meta name=description content="1 IP Fragmentation Settings 2 Networking 本文为摘录，原文为： https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html 1 IP Fragmentation Settings IP Fragmentation Settings When the Greenplum Database interconnect uses UDP (the default), the network interface card controls IP packet fragmentation and reassemblies. If the UDP message size is larger than the size of the maximum transmission unit (MTU) of a network, the IP layer fragments the message. (Refer to"><meta name=author content><link rel=canonical href=https://yangyingchao.github.io/posts/gpdb-configuring-your-systems/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://yangyingchao.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://yangyingchao.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://yangyingchao.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://yangyingchao.github.io/apple-touch-icon.png><link rel=mask-icon href=https://yangyingchao.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="GPDB: Configuring Your Systems"><meta property="og:description" content="1 IP Fragmentation Settings 2 Networking 本文为摘录，原文为： https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html 1 IP Fragmentation Settings IP Fragmentation Settings When the Greenplum Database interconnect uses UDP (the default), the network interface card controls IP packet fragmentation and reassemblies. If the UDP message size is larger than the size of the maximum transmission unit (MTU) of a network, the IP layer fragments the message. (Refer to"><meta property="og:type" content="article"><meta property="og:url" content="https://yangyingchao.github.io/posts/gpdb-configuring-your-systems/"><meta property="article:section" content="posts"><meta name=twitter:card content="summary"><meta name=twitter:title content="GPDB: Configuring Your Systems"><meta name=twitter:description content="1 IP Fragmentation Settings 2 Networking 本文为摘录，原文为： https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html 1 IP Fragmentation Settings IP Fragmentation Settings When the Greenplum Database interconnect uses UDP (the default), the network interface card controls IP packet fragmentation and reassemblies. If the UDP message size is larger than the size of the maximum transmission unit (MTU) of a network, the IP layer fragments the message. (Refer to"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://yangyingchao.github.io/posts/"},{"@type":"ListItem","position":2,"name":"GPDB: Configuring Your Systems","item":"https://yangyingchao.github.io/posts/gpdb-configuring-your-systems/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"GPDB: Configuring Your Systems","name":"GPDB: Configuring Your Systems","description":"1 IP Fragmentation Settings 2 Networking 本文为摘录，原文为： https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html 1 IP Fragmentation Settings IP Fragmentation Settings When the Greenplum Database interconnect uses UDP (the default), the network interface card controls IP packet fragmentation and reassemblies. If the UDP message size is larger than the size of the maximum transmission unit (MTU) of a network, the IP layer fragments the message. (Refer to","keywords":["gpdb","configuration","network"],"articleBody":" 1 IP Fragmentation Settings 2 Networking 本文为摘录，原文为： https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html\n1 IP Fragmentation Settings IP Fragmentation Settings\nWhen the Greenplum Database interconnect uses UDP (the default), the network interface card controls IP packet fragmentation and reassemblies.\nIf the UDP message size is larger than the size of the maximum transmission unit (MTU) of a network, the IP layer fragments the message. (Refer to Networking later in this topic for more information about MTU sizes for Greenplum Database.) The receiver must store the fragments in a buffer before it can reorganize and reassemble the message.\nThe following sysctl.conf operating system parameters control the reassembly process:\nOS Parameter Description net.ipv4.ipfrag_high_thresh The maximum amount of memory used to reassemble IP fragments before the kernel starts to remove fragments to free up resources. The default value is 4194304 bytes (4MB). net.ipv4.ipfrag_low_thresh The minimum amount of memory used to reassemble IP fragments. The default value is 3145728 bytes (3MB). (Deprecated after kernel version 4.17.) net.ipv4.ipfrag_time The maximum amount of time (in seconds) to keep an IP fragment in memory. The default value is 30.\nThe recommended settings for these parameters for Greenplum Database follow:\nnet.ipv4.ipfrag_high_thresh = 41943040 net.ipv4.ipfrag_low_thresh = 31457280 net.ipv4.ipfrag_time = 60 2 Networking The maximum transmission unit (MTU) of a network specifies the size (in bytes) of the largest data packet/frame accepted by a network-connected device. A jumbo frame is a frame that contains more than the standard MTU of 1500 bytes.\nGreenplum Database utilizes 3 distinct MTU settings:\n– The Greenplum Database gp_max_packet_size server configuration parameter. The default max packet size is 8192. This default assumes a jumbo frame MTU. – The operating system MTU setting. – The rack switch MTU setting.\nThese settings are connected, in that they should always be either the same, or close to the same, value, or otherwise in the order of : Greenplum \u003c OS \u003c switch for MTU size.\n9000 is a common supported setting for switches, and is the recommended OS and rack switch MTU setting for your Greenplum Database hosts.\n","wordCount":"344","inLanguage":"zh-cn","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://yangyingchao.github.io/posts/gpdb-configuring-your-systems/"},"publisher":{"@type":"Organization","name":"MyNotes","logo":{"@type":"ImageObject","url":"https://yangyingchao.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yangyingchao.github.io accesskey=h title="MyNotes (Alt + H)">MyNotes</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://yangyingchao.github.io/ title=Home><span>Home</span></a></li><li><a href=https://yangyingchao.github.io/posts/ title=Archives><span>Archives</span></a></li><li><a href=https://yangyingchao.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://yangyingchao.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://yangyingchao.github.io/contact/ title="Contact me"><span>Contact me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">GPDB: Configuring Your Systems</h1><div class=post-meta></div></header><div class=post-content><ul><li>1 <a href=#h:3127b791-8437-4d53-bf04-17e651151969>IP Fragmentation Settings</a></li><li>2 <a href=#h:8109178d-d6f2-4bf1-9213-38024fbf79b1>Networking</a></li></ul><p>本文为摘录，原文为： <a href=https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html>https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html</a></p><h2 id=h:3127b791-8437-4d53-bf04-17e651151969>1 <a href="https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html#:~:text=IP%20Fragmentation%20Settings">IP Fragmentation Settings</a><a hidden class=anchor aria-hidden=true href=#h:3127b791-8437-4d53-bf04-17e651151969>#</a></h2><p>IP Fragmentation Settings</p><p>When the Greenplum Database interconnect uses UDP (the default), the network interface
card controls IP packet fragmentation and reassemblies.</p><p>If the UDP message size is larger than the size of the maximum transmission unit (MTU) of
a network, the IP layer fragments the message. (Refer to Networking later in this topic
for more information about MTU sizes for Greenplum Database.) The receiver must store the
fragments in a buffer before it can reorganize and reassemble the message.</p><p>The following sysctl.conf operating system parameters control the reassembly process:</p><blockquote><p>OS Parameter Description
net.ipv4.ipfrag_high_thresh The maximum amount of memory used to reassemble IP
fragments before the kernel starts to remove fragments
to free up resources. The default value is 4194304
bytes (4MB).
net.ipv4.ipfrag_low_thresh The minimum amount of memory used to reassemble IP
fragments. The default value is 3145728 bytes (3MB).
(Deprecated after kernel version 4.17.)
net.ipv4.ipfrag_time The maximum amount of time (in seconds) to keep an IP
fragment in memory. The default value is 30.</p></blockquote><p>The recommended settings for these parameters for Greenplum Database follow:</p><div class=highlight><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cfg data-lang=cfg><span style=display:flex><span><span style=color:#7d9029>net.ipv4.ipfrag_high_thresh</span> <span style=color:#666>=</span> <span style=color:#ba2121>41943040</span>
</span></span><span style=display:flex><span><span style=color:#7d9029>net.ipv4.ipfrag_low_thresh</span> <span style=color:#666>=</span> <span style=color:#ba2121>31457280</span>
</span></span><span style=display:flex><span><span style=color:#7d9029>net.ipv4.ipfrag_time</span> <span style=color:#666>=</span> <span style=color:#ba2121>60</span>
</span></span></code></pre></div><h2 id=h:8109178d-d6f2-4bf1-9213-38024fbf79b1>2 <a href="https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-install_guide-prep_os.html#networking%23:~:text=Networking">Networking</a><a hidden class=anchor aria-hidden=true href=#h:8109178d-d6f2-4bf1-9213-38024fbf79b1>#</a></h2><p>The maximum transmission unit (MTU) of a network specifies the size (in bytes) of the largest data packet/frame accepted
by a network-connected device. A jumbo frame is a frame that contains more than the standard MTU of 1500 bytes.</p><p>Greenplum Database utilizes 3 distinct MTU settings:</p><p>– The Greenplum Database <code>gp_max_packet_size</code> server configuration parameter. The default max packet size is 8192. This
default assumes a jumbo frame MTU.
– The operating system MTU setting.
– The rack switch MTU setting.</p><p>These settings are connected, in that they should always be either the same,
or close to the same, value, or otherwise in the order of :
<code>Greenplum &lt; OS &lt; switch for MTU size</code>.</p><p>9000 is a common supported setting for switches, and is the recommended OS and
rack switch MTU setting for your Greenplum Database hosts.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://yangyingchao.github.io/tags/gpdb/>gpdb</a></li><li><a href=https://yangyingchao.github.io/tags/configuration/>configuration</a></li><li><a href=https://yangyingchao.github.io/tags/network/>network</a></li></ul></footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//disqus_yH1vi2Slvj.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://yangyingchao.github.io>MyNotes</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>