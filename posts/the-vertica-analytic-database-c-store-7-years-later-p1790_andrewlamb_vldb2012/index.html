<!doctype html><html lang=zh-cn><head><title>The Vertica Analytic Database- C-Store 7 Years Later · MyNotes</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="yyc"><meta name=description content="1 ABSTRACT 2 BACKGROUND 2.1 Design Overview 3 DATA MODEL 3.1 Projections 3.2 Join Indexes 3.3 Prejoin Projections 3.4 Encoding and Compression 3.5 Partitioning 3.6 Segmentation: Cluster Distribution 3.7 Read and Write Optimized Stores 4 TUPLE MOVER 5 QUERY EXECUTION 5.1 Query Operators and Plan Format 5.2 Query Optimization 本文为摘录，原文为： attachments/pdf/3/The Vertica Analytic Database- C-Store 7 Years Later (p1790_andrewlamb_vldb2012).pdf 1 ABSTRACT"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="The Vertica Analytic Database- C-Store 7 Years Later"><meta name=twitter:description content="1 ABSTRACT 2 BACKGROUND 2.1 Design Overview 3 DATA MODEL 3.1 Projections 3.2 Join Indexes 3.3 Prejoin Projections 3.4 Encoding and Compression 3.5 Partitioning 3.6 Segmentation: Cluster Distribution 3.7 Read and Write Optimized Stores 4 TUPLE MOVER 5 QUERY EXECUTION 5.1 Query Operators and Plan Format 5.2 Query Optimization 本文为摘录，原文为： attachments/pdf/3/The Vertica Analytic Database- C-Store 7 Years Later (p1790_andrewlamb_vldb2012).pdf 1 ABSTRACT"><meta property="og:title" content="The Vertica Analytic Database- C-Store 7 Years Later"><meta property="og:description" content="1 ABSTRACT 2 BACKGROUND 2.1 Design Overview 3 DATA MODEL 3.1 Projections 3.2 Join Indexes 3.3 Prejoin Projections 3.4 Encoding and Compression 3.5 Partitioning 3.6 Segmentation: Cluster Distribution 3.7 Read and Write Optimized Stores 4 TUPLE MOVER 5 QUERY EXECUTION 5.1 Query Operators and Plan Format 5.2 Query Optimization 本文为摘录，原文为： attachments/pdf/3/The Vertica Analytic Database- C-Store 7 Years Later (p1790_andrewlamb_vldb2012).pdf 1 ABSTRACT"><meta property="og:type" content="article"><meta property="og:url" content="https://yangyingchao.github.io/posts/the-vertica-analytic-database-c-store-7-years-later-p1790_andrewlamb_vldb2012/"><meta property="article:section" content="posts"><link rel=canonical href=https://yangyingchao.github.io/posts/the-vertica-analytic-database-c-store-7-years-later-p1790_andrewlamb_vldb2012/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.135e22c97ff685fe983fc60048e309ced8f00d8d38f536aa67dba8a13a03dfa4.css integrity="sha256-E14iyX/2hf6YP8YASOMJztjwDY049TaqZ9uooToD36Q=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>MyNotes</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact me</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://yangyingchao.github.io/posts/the-vertica-analytic-database-c-store-7-years-later-p1790_andrewlamb_vldb2012/>The Vertica Analytic Database- C-Store 7 Years Later</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=0001-01-01T00:00:00Z>January 1, 0001</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
阅读时间：2 分钟</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/tag1/>tag1</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/tag2/>tag2</a></span></div></div></header><div class=post-content><ul><li>1 <a href=#h:7d7533f5-6893-4cc5-bf49-528e2f05cb24>ABSTRACT</a></li><li>2 <a href=#h:38bfadd0-2466-44b4-bcee-50563df8d649>BACKGROUND</a><ul><li>2.1 <a href=#h:b92b62b5-cf6d-48e1-9f0d-09634656132c>Design Overview</a></li></ul></li><li>3 <a href=#h:8c127add-721e-4ce9-8210-eb475565182a>DATA MODEL</a><ul><li>3.1 <a href=#h:5818aee4-1caa-47bf-ae26-56ef2b0d2bc8>Projections</a></li><li>3.2 <a href=#h:9e309991-d0d5-4c52-9e3b-9aa55cd040ab>Join Indexes</a></li><li>3.3 <a href=#h:fc16fc4d-95f3-43b2-a0df-72e301c1c280>Prejoin Projections</a></li><li>3.4 <a href=#h:b05f07d2-c047-43a0-b329-eb3859a65070>Encoding and Compression</a></li><li>3.5 <a href=#h:e73ca29a-39ae-43a2-a12c-41ee05b754da>Partitioning</a></li><li>3.6 <a href=#h:62e3ee39-fe90-434c-909e-1c5877396c87>Segmentation: Cluster Distribution</a></li><li>3.7 <a href=#h:77c7ffc8-afd0-4118-93e3-bc54a105568f>Read and Write Optimized Stores</a></li></ul></li><li>4 <a href=#h:4e7a0195-059c-4502-ad9f-57d2ccf20a8c>TUPLE MOVER</a></li><li>5 <a href=#h:fd7b1b73-4e68-4442-971e-f89255025ef2>QUERY EXECUTION</a><ul><li>5.1 <a href=#h:5dc5c12e-3fc0-4c27-aef8-7ac7c097e387>Query Operators and Plan Format</a></li><li>5.2 <a href=#h:110fd5c5-957a-47b8-a225-fdbcb6ac93dc>Query Optimization</a></li></ul></li></ul><p>本文为摘录，原文为： attachments/pdf/3/The Vertica Analytic Database- C-Store 7 Years Later (p1790_andrewlamb_vldb2012).pdf</p><h2 id=h:7d7533f5-6893-4cc5-bf49-528e2f05cb24>1 ABSTRACT
<a class=heading-link href=#h:7d7533f5-6893-4cc5-bf49-528e2f05cb24><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><ul><li>Vertica 是 C-Store 的商业化成果</li></ul><h2 id=h:38bfadd0-2466-44b4-bcee-50563df8d649>2 BACKGROUND
<a class=heading-link href=#h:38bfadd0-2466-44b4-bcee-50563df8d649><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><h3 id=h:b92b62b5-cf6d-48e1-9f0d-09634656132c>2.1 Design Overview
<a class=heading-link href=#h:b92b62b5-cf6d-48e1-9f0d-09634656132c><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><h4 id=h:e3e72698-a717-47d3-a742-5f668cf4dd48>2.1.1 Design Goals
<a class=heading-link href=#h:e3e72698-a717-47d3-a742-5f668cf4dd48><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h4><ul><li><p>Designed for <strong>analytic workloads</strong> rather than for <strong>transactional workloads</strong></p><ul><li><p><strong>Transactional workloads</strong> are characterized by:</p><ul><li>a large number of transactions per second (e.g. thousands)</li><li>事务性工作负载指的是每秒钟有大量的交易（比如数千次），</li><li>each transaction involves a handful of tuples.</li><li>每个交易仅涉及几个元组。</li><li>most of the transactions take the form of single row insertions or modifications to existing rows.</li><li>大多数交易采用单行插入或修改现有行的形式。</li><li>例如，插入新的销售记录或更新银行帐户余额。</li></ul></li><li><p><strong>Analytic workloads</strong> are characterized by:</p><ul><li>smaller transaction volume (e.g. tens per second),</li><li>每秒钟的交易量较小（例如每秒钟几十次），</li><li>each transaction examines a significant fraction of the tuples in a table.</li><li>但每个交易都会检查表中相当一部分的元组。</li><li>例如，跨时间和地理维度聚合销售数据以及分析网站上不同用户的行为。</li></ul></li></ul></li><li><p>Share nothing storage</p></li><li><p>尽量进行本地计算：
优化器， 执行器避免通过网络搬运大量数据</p></li><li><p>加载，尤其是批量加载，要快</p></li></ul><h2 id=h:8c127add-721e-4ce9-8210-eb475565182a>3 DATA MODEL
<a class=heading-link href=#h:8c127add-721e-4ce9-8210-eb475565182a><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><h3 id=h:5818aee4-1caa-47bf-ae26-56ef2b0d2bc8>3.1 Projections
<a class=heading-link href=#h:5818aee4-1caa-47bf-ae26-56ef2b0d2bc8><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><ul><li>它将表数据物理地组织成投影<ul><li>这些投影是表属性的排序子集</li><li>可以允许使用任意数量的具有不同排序顺序和表列子集的投影。</li></ul></li></ul><h3 id=h:9e309991-d0d5-4c52-9e3b-9aa55cd040ab>3.2 Join Indexes
<a class=heading-link href=#h:9e309991-d0d5-4c52-9e3b-9aa55cd040ab><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p>未使用 C-Store 中使用的连接索引</p><h3 id=h:fc16fc4d-95f3-43b2-a0df-72e301c1c280>3.3 Prejoin Projections
<a class=heading-link href=#h:fc16fc4d-95f3-43b2-a0df-72e301c1c280><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><h3 id=h:b05f07d2-c047-43a0-b329-eb3859a65070>3.4 Encoding and Compression
<a class=heading-link href=#h:b05f07d2-c047-43a0-b329-eb3859a65070><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><h3 id=h:e73ca29a-39ae-43a2-a12c-41ee05b754da>3.5 Partitioning
<a class=heading-link href=#h:e73ca29a-39ae-43a2-a12c-41ee05b754da><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><h3 id=h:62e3ee39-fe90-434c-909e-1c5877396c87>3.6 Segmentation: Cluster Distribution
<a class=heading-link href=#h:62e3ee39-fe90-434c-909e-1c5877396c87><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><h3 id=h:77c7ffc8-afd0-4118-93e3-bc54a105568f>3.7 Read and Write Optimized Stores
<a class=heading-link href=#h:77c7ffc8-afd0-4118-93e3-bc54a105568f><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><ul><li>ROS: Read Optimized Store</li><li>WOS: Write Optimized Store</li></ul><h4 id=h:1c17ad0f-22c4-415d-8207-643132887a38>3.7.1 Data Modifications and Delete Vectors
<a class=heading-link href=#h:1c17ad0f-22c4-415d-8207-643132887a38><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h4><ul><li>A delete vector is a list of positions of rows that have been deleted.</li></ul><h2 id=h:4e7a0195-059c-4502-ad9f-57d2ccf20a8c>4 TUPLE MOVER
<a class=heading-link href=#h:4e7a0195-059c-4502-ad9f-57d2ccf20a8c><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><h2 id=h:fd7b1b73-4e68-4442-971e-f89255025ef2>5 QUERY EXECUTION
<a class=heading-link href=#h:fd7b1b73-4e68-4442-971e-f89255025ef2><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><h3 id=h:5dc5c12e-3fc0-4c27-aef8-7ac7c097e387>5.1 Query Operators and Plan Format
<a class=heading-link href=#h:5dc5c12e-3fc0-4c27-aef8-7ac7c097e387><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><h3 id=h:110fd5c5-957a-47b8-a225-fdbcb6ac93dc>5.2 Query Optimization
<a class=heading-link href=#h:110fd5c5-957a-47b8-a225-fdbcb6ac93dc><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2023
yyc
·
技术支持 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>