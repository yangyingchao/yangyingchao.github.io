<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Mapfile - 标签 - 老杨的杂货铺</title><link>https://yangyingchao.github.io/tags/mapfile/</link><description>Mapfile - 标签 - 老杨的杂货铺</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 19 Oct 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://yangyingchao.github.io/tags/mapfile/" rel="self" type="application/rss+xml"/><item><title>Bash Mapfile Builtin Command Help and Examples</title><link>https://yangyingchao.github.io/mapfile/</link><pubDate>Thu, 19 Oct 2023 00:00:00 +0000</pubDate><author>yc</author><guid>https://yangyingchao.github.io/mapfile/</guid><description><![CDATA[<div class="ox-hugo-toc toc has-section-numbers">
<div class="heading">Table of Contents</div>
<ul>
<li><span class="section-num">1</span> <a href="#h:11d958d0-32e8-40f0-8b56-88270fd85ed4" rel="">语法</a>
<ul>
<li><span class="section-num">1.1</span> <a href="#h:7ebb0f59-ff05-4de9-9346-346ac68e6cff" rel="">选项</a></li>
<li><span class="section-num">1.2</span> <a href="#h:1ce845c9-394e-41af-a4a7-b280e219050c" rel="">注意事项</a></li>
<li><span class="section-num">1.3</span> <a href="#h:cc5aa7f0-644e-44cf-ba26-4c8948cde1ec" rel="">退出状态</a></li>
</ul>
</li>
<li><span class="section-num">2</span> <a href="#h:dcb6eedc-6f65-46fb-9ff8-758618b0cbb1" rel="">示例</a>
<ul>
<li><span class="section-num">2.1</span> <a href="#h:57b46aaf-3ca8-41dd-b037-b8dc76e09397" rel="">使用进程替换 (process substitution) 的 mapfile</a></li>
</ul>
</li>
<li><span class="section-num">3</span> <a href="#h:09d65bb0-ed38-465f-95dd-da3cd65308a2" rel="">Process substitution</a></li>
</ul>
</div>
<!--endtoc-->
<p>本文为摘录，原文为： <a href="https://www.computerhope.com/unix/bash/mapfile.htm" target="_blank" rel="noopener noreffer ">https://www.computerhope.com/unix/bash/mapfile.htm</a></p>
<h2 id="h:11d958d0-32e8-40f0-8b56-88270fd85ed4"><span class="section-num">1</span> 语法</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">mapfile [-n count] [-O origin] [-s count] [-t] [-u fd]
</span></span><span class="line"><span class="cl">        [-C callback [-c quantum]] [array]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="h:7ebb0f59-ff05-4de9-9346-346ac68e6cff"><span class="section-num">1.1</span> 选项</h3>
<p>mapfile 内建命令接受以下选项：</p>
<ul>
<li><code>-n count</code>  读取最多 count 行。如果 count 为零，则复制所有可用的行。</li>
<li><code>-O origin</code> 从索引号 origin 开始将行写入数组 array。默认值为零。</li>
<li><code>-s count</code>  在写入数组之前丢弃 count 行。</li>
<li><code>-t</code>  如果任何行以换行符结尾，则去除换行符。</li>
<li><code>-u fd</code>  从文件描述符 fd 读取行，而不是标准输入。</li>
<li><code>-C callback</code>  每次读取量子行时执行/评估一个函数/表达式 callback。默认量子值为 1，除非使用-c 另行指定。</li>
<li><code>-c quantum</code>  指定函数/表达式 callback 在指定了-C 时执行/评估的行数量子。</li>
<li><code>array</code>  要写入行的数组变量的名称。如果省略了 array，则默认变量 MAPFILE 是目标。</li>
</ul>
<h3 id="h:1ce845c9-394e-41af-a4a7-b280e219050c"><span class="section-num">1.2</span> 注意事项</h3>
<ul>
<li>命令名称 readarray 可以作为命令名称 mapfile 的别名使用，其操作没有任何差异。</li>
<li>如果指定了-u 选项，mapfile 将从文件描述符 fd 而不是标准输入中读取。</li>
<li>如果未指定 array，则默认变量 MAPFILE 将用作目标数组变量。</li>
</ul>
<p>mapfile 命令不是非常可移植的。也就是说，如果你希望确保脚本可以在多种系统上运行，不建议使
用 mapfile。它主要提供方便。相同的功能可以使用 read 循环实现，尽管通常 mapfile 的性能更好。</p>]]></description></item></channel></rss>