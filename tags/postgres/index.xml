<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Postgres on 杂货铺</title><link>https://yangyingchao.github.io/tags/postgres/</link><description>Recent content in Postgres on 杂货铺</description><generator>Hugo</generator><language>zh-CN</language><managingEditor>yang.yingchao@qq.com (yc)</managingEditor><webMaster>yang.yingchao@qq.com (yc)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Mon, 03 Nov 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://yangyingchao.github.io/tags/postgres/index.xml" rel="self" type="application/rss+xml"/><item><title>Beyond Start and End_ PostgreSQL Range Types</title><link>https://yangyingchao.github.io/beyond-start-and-end_-postgresql-range-types/</link><pubDate>Mon, 03 Nov 2025 00:00:00 +0000</pubDate><author>yang.yingchao@qq.com (yc)</author><guid>https://yangyingchao.github.io/beyond-start-and-end_-postgresql-range-types/</guid><description>&lt;div class="ox-hugo-toc toc has-section-numbers"&gt;
&lt;div class="heading"&gt;Table of Contents&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; &lt;a href="#bug-not-invented-here" rel=""&gt;Bug Not Invented Here&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; &lt;a href="#introducing-the-data-range-types" rel=""&gt;Introducing the Data Range Types&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; &lt;a href="#first-win-cleaner-schema-%e7%ac%ac%e4%b8%80%e4%b8%aa%e4%bc%98%e5%8a%bf-%e6%9b%b4%e7%ae%80%e6%b4%81%e7%9a%84%e6%a8%a1%e5%bc%8f" rel=""&gt;First win: cleaner schema 第一个优势：更简洁的模式&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; &lt;a href="#second-win-atomicity-guaranteed-%e7%ac%ac%e4%ba%8c%e4%b8%aa%e4%bc%98%e5%8a%bf-%e4%bf%9d%e8%af%81%e5%8e%9f%e5%ad%90%e6%80%a7" rel=""&gt;Second win: Atomicity guaranteed 第二个优势：保证原子性&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; &lt;a href="#%e8%8c%83%e5%9b%b4%e8%be%b9%e7%95%8c-%e5%bf%ab%e9%80%9f%e6%95%b0%e5%ad%a6%e5%a4%8d%e4%b9%a0" rel=""&gt;范围边界：快速数学复习 #&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; &lt;a href="#%e8%a7%84%e8%8c%83%e5%8c%96%e5%92%8c%e8%8c%83%e5%9b%b4%e9%9b%86%e5%90%88%e6%93%8d%e4%bd%9c" rel=""&gt;规范化和范围集合操作 #&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; &lt;a href="#%e6%93%8d%e4%bd%9c%e7%ac%a6%e5%b7%a5%e5%85%b7%e5%8c%85" rel=""&gt;操作符工具包 #&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; &lt;a href="#%e5%88%b0%e6%97%a0%e7%a9%b7%e5%a4%a7%e5%8f%8a%e6%9b%b4%e8%bf%9c" rel=""&gt;到无穷大及更远 #&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;9&lt;/span&gt; &lt;a href="#%e7%90%86%e8%a7%a3-null-%e4%b8%8e-empty-%e8%96%9b%e5%ae%9a%e8%b0%94%e7%9a%84%e8%8c%83%e5%9b%b4" rel=""&gt;理解 &lt;code&gt;NULL&lt;/code&gt; 与 &lt;code&gt;empty&lt;/code&gt; ：薛定谔的范围 #&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;10&lt;/span&gt; &lt;a href="#%e5%ae%9e%e9%99%85%e6%95%b4%e6%95%b0%e8%8c%83%e5%9b%b4%e7%94%a8%e4%ba%8e%e5%88%86%e5%b1%82%e5%ae%9a%e4%bb%b7" rel=""&gt;实际整数范围用于分层定价 #&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;11&lt;/span&gt; &lt;a href="#%e4%bd%bf%e5%9d%8f%e6%95%b0%e6%8d%ae%e6%88%90%e4%b8%ba%e4%b8%8d%e5%8f%af%e8%83%bd" rel=""&gt;使坏数据成为不可能 #&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;12&lt;/span&gt; &lt;a href="#%e5%a4%9a%e8%8c%83%e5%9b%b4-%e5%bd%93%e4%b8%80%e4%b8%aa%e8%8c%83%e5%9b%b4%e4%b8%8d%e5%a4%9f%e6%97%b6" rel=""&gt;多范围：当一个范围不够时 #&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;13&lt;/span&gt; &lt;a href="#%e5%88%9b%e5%bb%ba%e8%87%aa%e5%ae%9a%e4%b9%89%e8%8c%83%e5%9b%b4%e7%b1%bb%e5%9e%8b" rel=""&gt;创建自定义范围类型 #&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;14&lt;/span&gt; &lt;a href="#%e6%80%a7%e8%83%bd%e6%b7%b1%e5%85%a5%e5%88%86%e6%9e%90-gist-vs-gin" rel=""&gt;性能深入分析：GiST vs GIN #&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;15&lt;/span&gt; &lt;a href="#%e7%bb%93%e8%ae%ba" rel=""&gt;结论 #&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--endtoc--&gt;
&lt;p&gt;本文为摘录(或转载)，侵删，原文为： &lt;a href="https://postgr.es/p/7kw" target="_blank" rel="noopener noreffer "&gt;https://postgr.es/p/7kw&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Don't give Postgres too much memory</title><link>https://yangyingchao.github.io/dont-give-postgres-too-much-memory---tomas-vondra/</link><pubDate>Mon, 03 Nov 2025 00:00:00 +0000</pubDate><author>yang.yingchao@qq.com (yc)</author><guid>https://yangyingchao.github.io/dont-give-postgres-too-much-memory---tomas-vondra/</guid><description>&lt;div class="ox-hugo-toc toc has-section-numbers"&gt;
&lt;div class="heading"&gt;Table of Contents&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; &lt;a href="#issue" rel=""&gt;issue&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; &lt;a href="#why-is-this-happening" rel=""&gt;Why is this happening?&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; &lt;a href="#l3-%e7%bc%93%e5%ad%98" rel=""&gt;L3 缓存&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; &lt;a href="#%e5%86%85%e5%ad%98%e5%86%99%e5%85%a5%e6%97%b6%e6%9c%ba" rel=""&gt;内存写入时机&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; &lt;a href="#summary" rel=""&gt;Summary&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--endtoc--&gt;
&lt;p&gt;本文为摘录(或转载)，侵删，原文为： &lt;a href="https://postgr.es/p/7kj" target="_blank" rel="noopener noreffer "&gt;https://postgr.es/p/7kj&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="issue"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; issue&lt;/h2&gt;
&lt;p&gt;不时，我会调查与某种批处理过程相关的问题。如今，这些过程越来越常用非常高的内存限制（ &lt;code&gt;maintenance_work_mem&lt;/code&gt; 和
&lt;code&gt;work_mem&lt;/code&gt; ）。我想有些数据库管理员遵循“更多就是更好”的逻辑，却没有意识到这可能会严重影响性能。&lt;/p&gt;</description></item><item><title>PostgreSQL and NUMA</title><link>https://yangyingchao.github.io/postgresql-and-numa/</link><pubDate>Mon, 03 Nov 2025 00:00:00 +0000</pubDate><author>yang.yingchao@qq.com (yc)</author><guid>https://yangyingchao.github.io/postgresql-and-numa/</guid><description>&lt;div class="ox-hugo-toc toc has-section-numbers"&gt;
&lt;div class="heading"&gt;Table of Contents&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; &lt;a href="#what-is-numa-and-why-do-we-need-it" rel=""&gt;What is NUMA and why do we need it?&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1.1&lt;/span&gt; &lt;a href="#historical-background" rel=""&gt;Historical Background&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1.2&lt;/span&gt; &lt;a href="#how-numa-works" rel=""&gt;How NUMA works&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1.3&lt;/span&gt; &lt;a href="#linux-and-numa" rel=""&gt;Linux and NUMA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1.4&lt;/span&gt; &lt;a href="#conclusions" rel=""&gt;Conclusions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; &lt;a href="#numa-linux-and-postgresql-before-libnuma-support" rel=""&gt;NUMA, Linux, and PostgreSQL before libnuma Support&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; &lt;a href="#postgresql-numa-linux-and-huge-pages" rel=""&gt;PostgreSQL, NUMA, Linux, and Huge Pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; &lt;a href="#how-postgresql-s-architecture-intersects-with-numa" rel=""&gt;How PostgreSQL’s Architecture Intersects with NUMA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; &lt;a href="#how-numa-policies-affect-postgresql" rel=""&gt;How NUMA Policies affect PostgreSQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2.4&lt;/span&gt; &lt;a href="#recommendations" rel=""&gt;Recommendations&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--endtoc--&gt;
&lt;p&gt;本文为摘录(或转载)，侵删，原文为： &lt;a href="https://postgr.es/p/7ka" target="_blank" rel="noopener noreffer "&gt;https://postgr.es/p/7ka&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Time to Better Know The Time in PostgreSQL</title><link>https://yangyingchao.github.io/time-to-better-know-the-time-in-postgresql/</link><pubDate>Mon, 03 Nov 2025 00:00:00 +0000</pubDate><author>yang.yingchao@qq.com (yc)</author><guid>https://yangyingchao.github.io/time-to-better-know-the-time-in-postgresql/</guid><description>&lt;div class="ox-hugo-toc toc has-section-numbers"&gt;
&lt;div class="heading"&gt;Table of Contents&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; &lt;a href="#simple-things" rel=""&gt;Simple things&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; &lt;a href="#postgresql-timestamp-vs-timestamptz" rel=""&gt;PostgreSQL &lt;code&gt;timestamp&lt;/code&gt; vs &lt;code&gt;timestamptz&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; &lt;a href="#at-time-zone" rel=""&gt;AT TIME ZONE&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; &lt;a href="#%e5%bd%93%e5%ba%94%e7%94%a8%e4%ba%8e-timestamp-%e6%97%a0%e6%97%b6%e5%8c%ba%e6%97%b6%e9%97%b4%e6%88%b3-%e6%97%b6" rel=""&gt;当应用于 timestamp（无时区时间戳）时&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; &lt;a href="#%e5%bd%93%e5%ba%94%e7%94%a8%e4%ba%8e-timestamptz-%e5%b8%a6%e6%97%b6%e5%8c%ba%e6%97%b6%e9%97%b4%e6%88%b3-%e6%97%b6" rel=""&gt;当应用于 &lt;code&gt;timestamptz&lt;/code&gt; （带时区时间戳）时&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3.3&lt;/span&gt; &lt;a href="#%e5%ae%9e%e9%99%85%e7%94%a8%e6%b3%95" rel=""&gt;实际用法&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3.4&lt;/span&gt; &lt;a href="#%e5%b8%b8%e8%a7%81%e9%94%99%e8%af%af" rel=""&gt;常见错误&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; &lt;a href="#timestamps-and-the-storage" rel=""&gt;Timestamps and the storage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; &lt;a href="#getting-the-current-time-%e8%8e%b7%e5%8f%96%e5%bd%93%e5%89%8d%e6%97%b6%e9%97%b4" rel=""&gt;Getting the current time 获取当前时间&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; &lt;a href="#current-timestamp-vs-now" rel=""&gt;&lt;code&gt;CURRENT_TIMESTAMP&lt;/code&gt; vs &lt;code&gt;NOW()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; &lt;a href="#transaction-behavior" rel=""&gt;Transaction Behavior&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; &lt;a href="#alternative-time-functions" rel=""&gt;Alternative Time Functions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5.4&lt;/span&gt; &lt;a href="#%e6%80%bb%e7%bb%93" rel=""&gt;总结&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; &lt;a href="#intervals" rel=""&gt;Intervals&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; &lt;a href="#time-ranges" rel=""&gt;Time ranges&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; &lt;a href="#time-to-wrap-up" rel=""&gt;Time to wrap up&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--endtoc--&gt;
&lt;p&gt;本文为摘录(或转载)，侵删，原文为： &lt;a href="https://boringsql.com/posts/know-the-time-in-postgresql/" target="_blank" rel="noopener noreffer "&gt;https://boringsql.com/posts/know-the-time-in-postgresql/&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Configuring Linux Huge Pages for PostgreSQL Performance</title><link>https://yangyingchao.github.io/configuring-linux-huge-pages-for-postgresql-performance/</link><pubDate>Mon, 20 Oct 2025 00:00:00 +0000</pubDate><author>yang.yingchao@qq.com (yc)</author><guid>https://yangyingchao.github.io/configuring-linux-huge-pages-for-postgresql-performance/</guid><description>&lt;div class="ox-hugo-toc toc has-section-numbers"&gt;
&lt;div class="heading"&gt;Table of Contents&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; &lt;a href="#when-to-use-huge-pages-and-why-they-matter-%e4%bd%95%e6%97%b6%e4%bd%bf%e7%94%a8%e5%a4%a7%e9%a1%b5%e9%9d%a2%e4%bb%a5%e5%8f%8a%e5%ae%83%e4%bb%ac%e7%9a%84%e9%87%8d%e8%a6%81%e6%80%a7" rel=""&gt;When to use huge pages and why they matter 何时使用大页面以及它们的重要性&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; &lt;a href="#calculating-how-many-huge-pages-are-required-%e8%ae%a1%e7%ae%97%e6%89%80%e9%9c%80%e7%9a%84%e5%b7%a8%e5%a4%a7%e9%a1%b5%e9%9d%a2%e6%95%b0%e9%87%8f" rel=""&gt;Calculating how many huge pages are required 计算所需的巨大页面数量&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2.1&lt;/span&gt; &lt;a href="#postgresql-15-plus-use-the-built-in-calculator" rel=""&gt;PostgreSQL 15+ - use the built‑in calculator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2.2&lt;/span&gt; &lt;a href="#pre-15-releases-compute-manually" rel=""&gt;Pre‑15 releases - compute manually&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2.3&lt;/span&gt; &lt;a href="#1-gb-huge-pages" rel=""&gt;1 GB huge pages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; &lt;a href="#allocating-huge-pages-at-the-operating-system-level-%e5%9c%a8%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e5%b1%82%e9%9d%a2%e5%88%86%e9%85%8d%e5%a4%a7%e9%a1%b5" rel=""&gt;Allocating huge pages at the operating system level 在操作系统层面分配大页&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; &lt;a href="#disable-transparent-huge-pages--thp--%e7%a6%81%e7%94%a8%e9%80%8f%e6%98%8e%e5%a4%a7%e9%a1%b5--thp" rel=""&gt;Disable Transparent Huge Pages (THP) 禁用透明大页 (THP)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; &lt;a href="#environment-specific-considerations-%e7%8e%af%e5%a2%83%e7%89%b9%e5%ae%9a%e7%9a%84%e8%80%83%e8%99%91%e5%9b%a0%e7%b4%a0" rel=""&gt;Environment‑specific considerations 环境特定的考虑因素&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5.1&lt;/span&gt; &lt;a href="#kubernetes-and-containerized-deployments" rel=""&gt;Kubernetes and containerized deployments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5.2&lt;/span&gt; &lt;a href="#amazon-rds-aurora-postgresql" rel=""&gt;Amazon RDS/Aurora PostgreSQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5.3&lt;/span&gt; &lt;a href="#azure-postgresql-%e7%81%b5%e6%b4%bb%e6%9c%8d%e5%8a%a1%e5%99%a8" rel=""&gt;Azure PostgreSQL 灵活服务器&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5.4&lt;/span&gt; &lt;a href="#windows-%e6%9c%8d%e5%8a%a1%e5%99%a8" rel=""&gt;Windows 服务器&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; &lt;a href="#troubleshooting-and-best-practices" rel=""&gt;Troubleshooting and best practices&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; &lt;a href="#summary-checklist" rel=""&gt;Summary checklist&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--endtoc--&gt;
&lt;p&gt;本文为摘录(或转载)，侵删，原文为： &lt;a href="https://stormatics.tech/blogs/configuring-linux-huge-pages-for-postgresql" target="_blank" rel="noopener noreffer "&gt;https://stormatics.tech/blogs/configuring-linux-huge-pages-for-postgresql&lt;/a&gt;&lt;/p&gt;</description></item><item><title>PostgreSQL 的灾难恢复</title><link>https://yangyingchao.github.io/postgresql-%E7%9A%84%E7%81%BE%E9%9A%BE%E6%81%A2%E5%A4%8D/</link><pubDate>Thu, 16 Oct 2025 00:00:00 +0000</pubDate><author>yang.yingchao@qq.com (yc)</author><guid>https://yangyingchao.github.io/postgresql-%E7%9A%84%E7%81%BE%E9%9A%BE%E6%81%A2%E5%A4%8D/</guid><description>&lt;div class="ox-hugo-toc toc has-section-numbers"&gt;
&lt;div class="heading"&gt;Table of Contents&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; &lt;a href="#what-is-disaster-recovery-%e4%bb%80%e4%b9%88%e6%98%af%e7%81%be%e9%9a%be%e6%81%a2%e5%a4%8d" rel=""&gt;What is Disaster Recovery? 什么是灾难恢复？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; &lt;a href="#the-pillars-of-business-continuity-rto-and-rpo-and-x2013-%e4%b8%9a%e5%8a%a1%e8%bf%9e%e7%bb%ad%e6%80%a7%e7%9a%84%e6%94%af%e6%9f%b1-%e6%81%a2%e5%a4%8d%e6%97%b6%e9%97%b4%e7%9b%ae%e6%a0%87-rto-%e5%92%8c%e6%81%a2%e5%a4%8d%e7%82%b9%e7%9b%ae%e6%a0%87-rpo" rel=""&gt;The Pillars of Business Continuity: RTO and RPO – 业务连续性的支柱：恢复时间目标（RTO）和恢复点目标（RPO）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; &lt;a href="#the-postgresql-evolution--postgresql-%e7%9a%84%e5%8f%91%e5%b1%95" rel=""&gt;The PostgreSQL Evolution (PostgreSQL 的发展)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;4&lt;/span&gt; &lt;a href="#what-is-a-backup-%e4%bb%80%e4%b9%88%e6%98%af%e5%a4%87%e4%bb%bd" rel=""&gt;What is a Backup? 什么是备份？&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;4.1&lt;/span&gt; &lt;a href="#logical-backups-%e9%80%bb%e8%be%91%e5%a4%87%e4%bb%bd" rel=""&gt;Logical Backups 逻辑备份&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;4.2&lt;/span&gt; &lt;a href="#physical-backups-%e7%89%a9%e7%90%86%e5%a4%87%e4%bb%bd" rel=""&gt;Physical Backups 物理备份&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;4.3&lt;/span&gt; &lt;a href="#pros-and-cons-of-logical-vs-dot-physical-backup-%e9%80%bb%e8%be%91%e5%a4%87%e4%bb%bd%e4%b8%8e%e7%89%a9%e7%90%86%e5%a4%87%e4%bb%bd%e7%9a%84%e4%bc%98%e7%bc%ba%e7%82%b9" rel=""&gt;Pros and Cons of Logical vs. Physical Backup: 逻辑备份与物理备份的优缺点：&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;5&lt;/span&gt; &lt;a href="#write-ahead-logging--wal--%e9%a2%84%e5%86%99%e6%97%a5%e5%bf%97-wal" rel=""&gt;Write-Ahead Logging (WAL) 预写日志（WAL）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;6&lt;/span&gt; &lt;a href="#continuous-backup-and-wal-archiving-%e6%8c%81%e7%bb%ad%e5%a4%87%e4%bb%bd%e5%92%8c-wal-%e5%bd%92%e6%a1%a3" rel=""&gt;Continuous Backup and WAL Archiving 持续备份和 WAL 归档&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;7&lt;/span&gt; &lt;a href="#point-in-time-recovery--pitr--%e6%97%b6%e9%97%b4%e7%82%b9%e6%81%a2%e5%a4%8d--pitr" rel=""&gt;Point-in-Time Recovery (PITR) 时间点恢复 (PITR)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;8&lt;/span&gt; &lt;a href="#high-availability-vs-dot-disaster-recovery-%e9%ab%98%e5%8f%af%e7%94%a8%e6%80%a7%e4%b8%8e%e7%81%be%e9%9a%be%e6%81%a2%e5%a4%8d" rel=""&gt;High Availability vs. Disaster Recovery 高可用性与灾难恢复&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;9&lt;/span&gt; &lt;a href="#conclusion-%e7%bb%93%e8%ae%ba" rel=""&gt;Conclusion 结论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--endtoc--&gt;
&lt;p&gt;本文为摘录(或转载)，侵删，原文为： &lt;a href="https://postgr.es/p/7i" target="_blank" rel="noopener noreffer "&gt;https://postgr.es/p/7i&lt;/a&gt;_&lt;/p&gt;</description></item><item><title>shared cache invalidation</title><link>https://yangyingchao.github.io/sinvaladt/</link><pubDate>Thu, 25 Apr 2024 00:00:00 +0000</pubDate><author>yang.yingchao@qq.com (yc)</author><guid>https://yangyingchao.github.io/sinvaladt/</guid><description>&lt;div class="ox-hugo-toc toc has-section-numbers"&gt;
&lt;div class="heading"&gt;Table of Contents&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; &lt;a href="#prelog" rel=""&gt;prelog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;2&lt;/span&gt; &lt;a href="#configurable-parameters" rel=""&gt;Configurable parameters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3&lt;/span&gt; &lt;a href="#sicleanupqueue" rel=""&gt;SICleanupQueue&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3.1&lt;/span&gt; &lt;a href="#%e9%87%8d%e7%bd%ae%e5%90%8e%e7%9a%84%e5%a4%84%e7%90%86" rel=""&gt;重置后的处理&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="section-num"&gt;3.2&lt;/span&gt; &lt;a href="#%e4%bf%a1%e5%8f%b7%e7%9a%84%e5%a4%84%e7%90%86" rel=""&gt;信号的处理&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--endtoc--&gt;
&lt;p&gt;本文为摘录(或转载)，侵删，原文为： &lt;a href="https://github.com/postgres/postgres/blob/master/src/backend/storage/ipc/sinval.c" target="_blank" rel="noopener noreffer "&gt;https://github.com/postgres/postgres/blob/master/src/backend/storage/ipc/sinval.c&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="prelog"&gt;&lt;span class="section-num"&gt;1&lt;/span&gt; prelog&lt;/h2&gt;
&lt;p&gt;共享缓存失效消息在一个无限数组中存储，maxMsgNum 是下一个数组下标来存储提交的消息，
minMsgNum 是最小的数组下标，包含尚未被所有后端读取的消息，始终满足 maxMsgNum &amp;gt;= minMsgNum。每个活跃后端都有一个 nextMsgNum 指针，指示下一个需要读取的消息；对每个后端都有
maxMsgNum &amp;gt;= nextMsgNum &amp;gt;= minMsgNum。&lt;/p&gt;</description></item></channel></rss>